(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{443:function(s,a,t){"use strict";t.r(a);var e=t(8),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"无所不能的busybox-如何用它打造极小的linux环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无所不能的busybox-如何用它打造极小的linux环境"}},[s._v("#")]),s._v(" 无所不能的BusyBox：如何用它打造极小的Linux环境")]),s._v(" "),a("h2",{attrs:{id:"什么是-busybox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-busybox"}},[s._v("#")]),s._v(" 什么是 BusyBox")]),s._v(" "),a("p",[s._v("BusyBox 是一个为嵌入式 Linux 系统设计的工具集，它将常用的 UNIX 工具程序整合成一个单独的可执行文件，从而提供了一个高效、节省空间的解决方案。常见的工具如 "),a("code",[s._v("ls")]),s._v("、"),a("code",[s._v("cp")]),s._v("、"),a("code",[s._v("cat")]),s._v("、"),a("code",[s._v("echo")]),s._v("、"),a("code",[s._v("mount")]),s._v("、"),a("code",[s._v("ps")]),s._v(" 等都可以通过 BusyBox 提供。由于它的高度集成和紧凑性，BusyBox 被广泛应用于嵌入式设备、路由器、智能手机、Docker 容器等场景。")]),s._v(" "),a("p",[s._v("BusyBox 由 Bruce Perens 于 1995 年发起，旨在为内存受限的系统提供完整的 Linux 用户空间。它不仅包括常见的命令行工具，还提供了如文件系统操作、网络配置、系统管理等功能。由于它的设计理念是轻量级且易于定制，因此在许多需要低资源占用的环境中成为首选工具。")]),s._v(" "),a("p",[s._v("在过去的几年里，随着 Docker 等容器技术的崛起，BusyBox 又一次迎来了新的发展契机。它成为了许多轻量级容器镜像的基础，帮助开发者快速构建、部署容器化应用程序。")]),s._v(" "),a("h2",{attrs:{id:"busybox-的特点与优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#busybox-的特点与优势"}},[s._v("#")]),s._v(" BusyBox 的特点与优势")]),s._v(" "),a("h3",{attrs:{id:"轻量级与资源占用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#轻量级与资源占用"}},[s._v("#")]),s._v(" 轻量级与资源占用")]),s._v(" "),a("p",[s._v("BusyBox 的最大特点之一是它的轻量级设计。由于其将多个常见的工具整合成一个可执行文件，使用的内存和存储空间极小。对于嵌入式系统，特别是资源受限的设备来说，这种设计极大地减少了系统占用的空间，使得开发者能够在非常有限的资源下，依然能够运行一整套 UNIX 工具。")]),s._v(" "),a("p",[s._v("例如，一个典型的 Linux 系统中，可能需要安装上百个不同的二进制程序，而 BusyBox 只需一个二进制文件就可以实现同样的功能。这种设计不仅有效节省了存储空间，还减少了内存的使用。")]),s._v(" "),a("h3",{attrs:{id:"丰富的功能集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#丰富的功能集"}},[s._v("#")]),s._v(" 丰富的功能集")]),s._v(" "),a("p",[s._v("尽管 BusyBox 仅由一个可执行文件构成，但它提供的功能非常丰富，包括但不限于：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("文件操作工具")]),s._v("：如 "),a("code",[s._v("cp")]),s._v("、"),a("code",[s._v("mv")]),s._v("、"),a("code",[s._v("rm")]),s._v("、"),a("code",[s._v("ln")]),s._v("、"),a("code",[s._v("cat")]),s._v(" 等。")]),s._v(" "),a("li",[a("strong",[s._v("系统管理工具")]),s._v("：如 "),a("code",[s._v("ps")]),s._v("、"),a("code",[s._v("top")]),s._v("、"),a("code",[s._v("kill")]),s._v("、"),a("code",[s._v("shutdown")]),s._v(" 等。")]),s._v(" "),a("li",[a("strong",[s._v("网络工具")]),s._v("：如 "),a("code",[s._v("ping")]),s._v("、"),a("code",[s._v("ifconfig")]),s._v("、"),a("code",[s._v("netstat")]),s._v("、"),a("code",[s._v("wget")]),s._v(" 等。")]),s._v(" "),a("li",[a("strong",[s._v("进程管理")]),s._v("：如 "),a("code",[s._v("ps")]),s._v("、"),a("code",[s._v("kill")]),s._v("、"),a("code",[s._v("nice")]),s._v("、"),a("code",[s._v("renice")]),s._v(" 等。")]),s._v(" "),a("li",[a("strong",[s._v("文本处理工具")]),s._v("：如 "),a("code",[s._v("grep")]),s._v("、"),a("code",[s._v("sed")]),s._v("、"),a("code",[s._v("awk")]),s._v("、"),a("code",[s._v("cut")]),s._v(" 等。")])]),s._v(" "),a("p",[s._v("这些工具大多数都被精简到了最基本的功能，可以满足大多数嵌入式系统和轻量级 Linux 系统的需求。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/11/27/aZhCB5jUwglkrzM.png",alt:"image-20241126131853764"}})]),s._v(" "),a("h3",{attrs:{id:"跨平台支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨平台支持"}},[s._v("#")]),s._v(" 跨平台支持")]),s._v(" "),a("p",[s._v("BusyBox 并不仅仅局限于某个特定的架构或操作系统。它支持多种平台，包括 x86、ARM、MIPS、PowerPC 等多种处理器架构。这使得 BusyBox 可以在各种硬件平台上运行，从桌面计算机到嵌入式设备，从路由器到智能手机，几乎无处不在。")]),s._v(" "),a("h3",{attrs:{id:"易于定制与扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#易于定制与扩展"}},[s._v("#")]),s._v(" 易于定制与扩展")]),s._v(" "),a("p",[s._v("由于 BusyBox 采用模块化设计，用户可以根据需要定制自己想要的功能。通过编译配置选项，开发者可以选择只包含需要的工具，从而进一步减小二进制文件的大小。甚至可以将不常用的功能去除，只保留最常用的部分。")]),s._v(" "),a("p",[s._v("此外，BusyBox 还允许开发者通过扩展模块来增加新功能，确保其在不同应用场景下都能发挥最大效用。")]),s._v(" "),a("h2",{attrs:{id:"busybox-的应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#busybox-的应用场景"}},[s._v("#")]),s._v(" BusyBox 的应用场景")]),s._v(" "),a("h3",{attrs:{id:"嵌入式系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#嵌入式系统"}},[s._v("#")]),s._v(" 嵌入式系统")]),s._v(" "),a("p",[s._v("BusyBox 最初是为嵌入式系统设计的，因此它在嵌入式开发中有着广泛的应用。嵌入式设备通常有较小的存储空间和有限的计算资源，BusyBox 提供的轻量级工具集能够帮助开发者在这些设备上实现完整的 Linux 用户空间功能。常见的嵌入式设备如路由器、智能电视、家电、工业控制设备等，都有可能使用 BusyBox。")]),s._v(" "),a("h3",{attrs:{id:"linux-环境下的工具集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-环境下的工具集合"}},[s._v("#")]),s._v(" Linux 环境下的工具集合")]),s._v(" "),a("p",[s._v("在许多简化的 Linux 环境中，尤其是那些资源受限的虚拟机和容器环境中，BusyBox 提供了一种非常有效的工具集合。它将大部分常见的 UNIX 命令和工具都集成到了一个程序中，极大地简化了系统的部署和管理。在不需要图形化界面的环境中，BusyBox 提供的命令行工具是管理系统的关键。")]),s._v(" "),a("h3",{attrs:{id:"docker-容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-容器"}},[s._v("#")]),s._v(" Docker 容器")]),s._v(" "),a("p",[s._v("在 Docker 容器中，使用 BusyBox 是一个常见的做法。由于 Docker 容器通常要求镜像的体积尽可能小，BusyBox 作为一个基础镜像，能够为容器提供基本的命令行工具，并且不会占用太多的存储空间。许多 Docker 镜像都以 BusyBox 为基础，并根据需要增加其他功能。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" busybox:latest "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接运行命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" busybox:latest busybox "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"如何安装与使用-busybox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何安装与使用-busybox"}},[s._v("#")]),s._v(" 如何安装与使用 BusyBox")]),s._v(" "),a("h3",{attrs:{id:"安装-busybox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-busybox"}},[s._v("#")]),s._v(" 安装 BusyBox")]),s._v(" "),a("p",[s._v("在大多数 Linux 发行版中，安装 BusyBox 是一个简单的过程。你可以使用系统的包管理器来安装它。例如，在 Ubuntu 或 Debian 系统中，你可以通过以下命令安装：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" busybox\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("对于其他 Linux 发行版，如 CentOS 或 Fedora，使用 "),a("code",[s._v("yum")]),s._v(" 或 "),a("code",[s._v("dnf")]),s._v(" 安装：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" busybox\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果你需要在特定平台上编译安装 BusyBox，可以从官方网站下载源代码并自行编译。")]),s._v(" "),a("h3",{attrs:{id:"使用-busybox-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-busybox-命令"}},[s._v("#")]),s._v(" 使用 BusyBox 命令")]),s._v(" "),a("p",[s._v("安装 BusyBox 后，你可以通过执行 "),a("code",[s._v("busybox")]),s._v(" 命令来查看它支持的所有工具和命令。例如：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("busybox\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这个命令会列出 BusyBox 所包含的所有命令工具。")]),s._v(" "),a("p",[s._v("如果你想使用某个特定的工具，只需要像使用普通的命令行工具一样调用它。例如，使用 "),a("code",[s._v("ls")]),s._v(" 命令列出目录内容：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("busybox "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"编译-busybox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译-busybox"}},[s._v("#")]),s._v(" 编译 BusyBox")]),s._v(" "),a("p",[s._v("如果你希望从源代码自行编译 BusyBox，首先需要下载源代码：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://busybox.net/downloads/busybox-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".tar.bz2\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xvjf")]),s._v(" busybox-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".tar.bz2\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" busybox-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("然后，配置 BusyBox 编译选项：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" menuconfig\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在菜单中，你可以选择要启用的功能和工具。配置完成后，编译 BusyBox：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"busybox-与其他轻量级工具的对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#busybox-与其他轻量级工具的对比"}},[s._v("#")]),s._v(" BusyBox 与其他轻量级工具的对比")]),s._v(" "),a("p",[s._v("与其他轻量级工具（如 "),a("code",[s._v("toybox")]),s._v("、"),a("code",[s._v("dash")]),s._v(" 等）相比，BusyBox 拥有更为丰富的功能和更广泛的兼容性。虽然 "),a("code",[s._v("toybox")]),s._v(" 在某些方面也具备类似的轻量级特性，但 BusyBox 的工具集更为全面，并且得到了广泛的社区支持。另一方面，"),a("code",[s._v("dash")]),s._v(" 是一个非常轻量级的 shell，适合嵌入式系统使用，但其功能远不如 BusyBox 丰富。")]),s._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("BusyBox 作为一个集成了多种常见 UNIX 工具的轻量级工具集，已经成为嵌入式系统、Docker 容器等领域的重要组成部分。它通过将多个命令整合成一个可执行文件，极大地减少了存储和内存占用，使得资源受限的设备能够有效地使用 Linux 系统的功能。")]),s._v(" "),a("blockquote",[a("p",[s._v("官网：https://busybox.net/")])])])}),[],!1,null,null,null);a.default=r.exports}}]);