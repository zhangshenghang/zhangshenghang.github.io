(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{459:function(s,a,t){"use strict";t.r(a);var r=t(8),e=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("[toc]")]),s._v(" "),a("h2",{attrs:{id:"基础环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础环境"}},[s._v("#")]),s._v(" 基础环境")]),s._v(" "),a("ul",[a("li",[s._v("PyCharm")]),s._v(" "),a("li",[s._v("Python 2.7")]),s._v(" "),a("li",[s._v("已经安装完成的Ambari服务端")])]),s._v(" "),a("h2",{attrs:{id:"在pycharm中初始化项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在pycharm中初始化项目"}},[s._v("#")]),s._v(" 在PyCharm中初始化项目")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("项目名称就是我们要安装服务的名称，要求名称为全大写，如："),a("strong",[s._v("DORIS")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/07/02/ZIiGqh1P86O7Quc.png",alt:"image-20250702095423922"}})])]),s._v(" "),a("li",[a("p",[s._v("创建Python2.7环境，并应用")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/L3EKeHnSsYxARy2.png",alt:"image-20240403163927279"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/98HxeoMqAYjk4t5.png",alt:"image-20240218162145549"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/lXY91I6rcRyn23P.png",alt:"image-20240218162320073"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/Ka29j8isFRPE1NQ.png",alt:"image-20240403164200345"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/BvHUjQpcswro2qK.png",alt:"image-20240403164245082"}})]),s._v(" "),a("p",[s._v("到这里空项目创建完成。")]),s._v(" "),a("h2",{attrs:{id:"配置项目相关依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项目相关依赖"}},[s._v("#")]),s._v(" 配置项目相关依赖")]),s._v(" "),a("p",[s._v("需要用到ambari中的"),a("code",[s._v("resource_management")]),s._v("项目代码，不然会找不到依赖")]),s._v(" "),a("p",[s._v("我们可以从下面几个目录找到项目代码所在位置，下面两个位置中的"),a("code",[s._v("resource_management")]),s._v("代码是一致的，取其中一个就可以：")]),s._v(" "),a("ul",[a("li",[s._v("ambari-server所在服务器的：\n"),a("ul",[a("li",[s._v("/usr/lib/ambari-server/lib/resource_management")])])]),s._v(" "),a("li",[s._v("ambari-agent所在服务器的：\n"),a("ul",[a("li",[s._v("/usr/lib/ambari-agent/lib/resource_management")])])])]),s._v(" "),a("p",[s._v("项目代码结构如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ ll /usr/lib/ambari-server/lib/resource_management/\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\ndrwxr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":33 core\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("887")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" __init__.py\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1043")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" __init__.pyc\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1043")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" __init__.pyo\ndrwxr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("130")]),s._v(" Jan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":33 libraries\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("进入服务器压缩依赖,将依赖下载到本地")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入依赖代码目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/lib/ambari-server/lib/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 压缩依赖")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-czvf")]),s._v(" resource_management.tar.gz resource_management/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载依赖到本地")]),s._v("\nsz resource_management.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("在本地开发环境解压"),a("code",[s._v("resource_management.tar.gz")]),s._v("，解压后结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/QXef17yhYpBnAJq.png",alt:"image-20240218165126381"}})]),s._v(" "),a("h3",{attrs:{id:"在pycharm中导入依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在pycharm中导入依赖"}},[s._v("#")]),s._v(" 在PyCharm中导入依赖")]),s._v(" "),a("p",[s._v("点击项目中右下角环境")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/GkxjlUhyco2mp1q.png",alt:"image-20240218170939315"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/dImlp4GyY7gA9v5.png",alt:"image-20240218170959851"}})]),s._v(" "),a("p",[s._v("可以看到我们虚拟环境的目录")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/2SXZVOKraxzcwbH.png",alt:"image-20240218171019224"}})]),s._v(" "),a("p",[s._v("上面图片可以看到环境的目录为："),a("code",[s._v("~/opt/anaconda3/envs/ambari-custom")])]),s._v(" "),a("p",[s._v("根据这个目录进入："),a("code",[s._v("~/opt/anaconda3/envs/ambari-custom/lib/python2.7/site-packages")])]),s._v(" "),a("p",[s._v("将我们依赖代码"),a("code",[s._v("resource_management")]),s._v("目录放到"),a("code",[s._v("~/opt/anaconda3/envs/ambari-custom/lib/python2.7/site-packages")]),s._v("目录下。放完之后如下图所示")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2024/04/08/NiHaBO9wvLmdqs2.png",alt:"image-20240218171141758"}})]),s._v(" "),a("p",[s._v("至此项目基础环境搭建完成。")])])}),[],!1,null,null,null);a.default=e.exports}}]);