(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{557:function(a,e,n){"use strict";n.r(e);var t=n(8),s=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("[toc]")]),a._v(" "),e("h3",{attrs:{id:"异常内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常内容"}},[a._v("#")]),a._v(" 异常内容")]),a._v(" "),e("p",[a._v("主要异常提示：")]),a._v(" "),e("p",[a._v("java.lang.LinkageError: ClassCastException: attempting to castjar")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java.lang.LinkageError: ClassCastException: attempting to castjar:file:/home/hadoop/flink/platform-1.1.7/lib/jsr311-api-1.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.classtojar:file:/usr/local/service/hadoop/share/hadoop/common/lib/jsr311-api-1.1.1.jar!/javax/ws/rs/ext/RuntimeDelegate.class\n        at javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:116)\n        at javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:91)\n        at javax.ws.rs.core.MediaType.<clinit>(MediaType.java:44)\n        at com.sun.jersey.core.header.MediaTypes.<clinit>(MediaTypes.java:65)\n        at com.sun.jersey.core.spi.factory.MessageBodyFactory.initReaders(MessageBodyFactory.java:182)\n        at com.sun.jersey.core.spi.factory.MessageBodyFactory.initReaders(MessageBodyFactory.java:175)\n        at com.sun.jersey.core.spi.factory.MessageBodyFactory.init(MessageBodyFactory.java:162)\n        at com.sun.jersey.api.client.Client.init(Client.java:343)\n        at com.sun.jersey.api.client.Client.access$000(Client.java:119)\n        at com.sun.jersey.api.client.Client$1.f(Client.java:192)\n        at com.sun.jersey.api.client.Client$1.f(Client.java:188)\n        at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\n        at com.sun.jersey.api.client.Client.<init>(Client.java:188)\n        at com.sun.jersey.api.client.Client.<init>(Client.java:171)\n        at org.apache.hadoop.yarn.client.api.impl.TimelineConnector.serviceInit(TimelineConnector.java:123)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\n        at org.apache.hadoop.yarn.client.api.impl.TimelineClientImpl.serviceInit(TimelineClientImpl.java:130)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.yarn.client.api.impl.YarnClientImpl.getTimelineDelegationToken(YarnClientImpl.java:410)\n        at org.apache.hadoop.yarn.client.api.impl.YarnClientImpl.addTimelineDelegationToken(YarnClientImpl.java:386)\n        at org.apache.hadoop.yarn.client.api.impl.YarnClientImpl.submitApplication(YarnClientImpl.java:305)\n        at org.apache.flink.yarn.YarnClusterDescriptor.startAppMaster(YarnClusterDescriptor.java:1196)\n        at org.apache.flink.yarn.YarnClusterDescriptor.deployInternal(YarnClusterDescriptor.java:607)\n        at org.apache.flink.yarn.YarnClusterDescriptor.deployJobCluster(YarnClusterDescriptor.java:475)\n        at org.apache.flink.client.deployment.executors.AbstractJobClusterExecutor.execute(AbstractJobClusterExecutor.java:81)\n        at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:2042)\n        at org.apache.flink.client.program.StreamContextEnvironment.executeAsync(StreamContextEnvironment.java:137)\n        at org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:76)\n        at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1898)\n        at org.apache.flink.streaming.api.scala.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.scala:828)\n        at com.avris.cdp.ProfilePlatFormApplication$.main(AvrisProfilePlatFormApplication.scala:155)\n        at com.avris.cdp.ProfilePlatFormApplication.main(AvrisProfilePlatFormApplication.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355)\n        at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222)\n        at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:114)\n        at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:812)\n        at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:246)\n        at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1054)\n        at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1132)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)\n        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)\n        at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1132)\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br"),e("span",{staticClass:"line-number"},[a._v("27")]),e("br"),e("span",{staticClass:"line-number"},[a._v("28")]),e("br"),e("span",{staticClass:"line-number"},[a._v("29")]),e("br"),e("span",{staticClass:"line-number"},[a._v("30")]),e("br"),e("span",{staticClass:"line-number"},[a._v("31")]),e("br"),e("span",{staticClass:"line-number"},[a._v("32")]),e("br"),e("span",{staticClass:"line-number"},[a._v("33")]),e("br"),e("span",{staticClass:"line-number"},[a._v("34")]),e("br"),e("span",{staticClass:"line-number"},[a._v("35")]),e("br"),e("span",{staticClass:"line-number"},[a._v("36")]),e("br"),e("span",{staticClass:"line-number"},[a._v("37")]),e("br"),e("span",{staticClass:"line-number"},[a._v("38")]),e("br"),e("span",{staticClass:"line-number"},[a._v("39")]),e("br"),e("span",{staticClass:"line-number"},[a._v("40")]),e("br"),e("span",{staticClass:"line-number"},[a._v("41")]),e("br"),e("span",{staticClass:"line-number"},[a._v("42")]),e("br"),e("span",{staticClass:"line-number"},[a._v("43")]),e("br"),e("span",{staticClass:"line-number"},[a._v("44")]),e("br"),e("span",{staticClass:"line-number"},[a._v("45")]),e("br"),e("span",{staticClass:"line-number"},[a._v("46")]),e("br"),e("span",{staticClass:"line-number"},[a._v("47")]),e("br"),e("span",{staticClass:"line-number"},[a._v("48")]),e("br"),e("span",{staticClass:"line-number"},[a._v("49")]),e("br"),e("span",{staticClass:"line-number"},[a._v("50")]),e("br")])]),e("h3",{attrs:{id:"分析及解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分析及解决方法"}},[a._v("#")]),a._v(" 分析及解决方法")]),a._v(" "),e("p",[a._v("是在腾讯云Kerberos认证的集群上报的错，一样的代码在无Kerberos认证的集群没有报错。")]),a._v(" "),e("p",[a._v("翻阅相关资料发现在"),e("code",[a._v("flink-conf.yml")]),a._v("中设置"),e("strong",[a._v("类加载策略")])]),a._v(" "),e("p",[e("code",[a._v("classloader.resolve-order=parent-first")]),a._v(" 该值默认为："),e("code",[a._v("child-first")])]),a._v(" "),e("p",[a._v("启动服务发现正常启动")]),a._v(" "),e("h3",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),e("p",[a._v("https://lists.apache.org/thread/gy24n9zc2l4nx0m7jfyg9o2dlg5vdf23")]),a._v(" "),e("p",[a._v("https://stackoverflow.com/questions/63559514/flink-fails-to-load-producerrecord-class-with-linkageerror-at-runtime")]),a._v(" "),e("p",[a._v("https://blog.csdn.net/qq_32648939/article/details/105839648")]),a._v(" "),e("p",[a._v("https://blog.csdn.net/CarloPan/article/details/117295628")])])}),[],!1,null,null,null);e.default=s.exports}}]);