(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{433:function(s,t,a){"use strict";a.r(t);var e=a(8),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[toc]")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"系统盘制作-todo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统盘制作-todo"}},[s._v("#")]),s._v(" 系统盘制作 TODO")]),s._v(" "),t("h2",{attrs:{id:"安装系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装系统"}},[s._v("#")]),s._v(" 安装系统")]),s._v(" "),t("p",[s._v("todo:不同电脑启动方式补充")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"安装proxmox系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装proxmox系统"}},[s._v("#")]),s._v(" 安装Proxmox系统")]),s._v(" "),t("p",[s._v("进入U盘系统（我的电脑是按F8进入，不同品牌电脑不同，自行百度）")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/LfGH4XVlEO367jo.png",alt:"image-20231204105920506"}})]),s._v(" "),t("p",[s._v("选择 "),t("code",[s._v("Install Proxmox VE (Graphical)")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/D8nb4iIPocXzHC3.png",alt:"image-20231204105933584"}})]),s._v(" "),t("p",[s._v("进入过程")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/IJ6PjpaU7nQHNbC.png",alt:"image-20231204110127062"}})]),s._v(" "),t("p",[s._v("点击右下角"),t("code",[s._v("I agree")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/XoH9aZiY2byMU6A.png",alt:"image-20231204110148367"}})]),s._v(" "),t("p",[s._v("选择一块硬盘安装系统，并点击"),t("code",[s._v("Next")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/3S9VWdAoENpFLiu.png",alt:"image-20231204110214865"}})]),s._v(" "),t("p",[s._v("选择区域为"),t("code",[s._v("China")]),s._v("，并点击"),t("code",[s._v("Next")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/wjl3h8BQPRSLtdD.png",alt:"image-20231204110256465"}})]),s._v(" "),t("p",[s._v("设置密码和邮箱，这里设置的密码既是服务器免密，也是Proxmox服务的免密")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/GntqB7FhvCLWk23.png",alt:"image-20231204110325602"}})]),s._v(" "),t("p",[s._v("选择网络，这里我没有插网线，直接使用的是无限网卡的网络，"),t("code",[s._v("Next")])]),s._v(" "),t("blockquote",[t("p",[s._v("注意：使用无限网卡直接配置的话，设置的ip地址可以随便填写，后面需要重新调整")]),s._v(" "),t("p",[s._v("如果你使用的是USB无限网卡，网卡中没有显示无限网卡，可以参考这篇文章：TODO 补充文章链接")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/jkHEKy4lRI8eBiG.png",alt:"image-20231204110404166"}})]),s._v(" "),t("p",[s._v("确认配置信息，点击 "),t("code",[s._v("Install")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/ke7AyjiNvE8pqMr.png",alt:"image-20231204110624439"}})]),s._v(" "),t("p",[s._v("等待安装完成")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/XziEGAxChKMPbmL.png",alt:"image-20231204110702815"}})]),s._v(" "),t("p",[s._v("安装完成后自动重启，选择进入第一个"),t("code",[s._v("Proxmox VE GNU/Linux")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/4I3OzNBZWPnxFG5.png",alt:"image-20231204110721588"}})]),s._v(" "),t("p",[s._v("输入设置的账号密码，可以进入系统")]),s._v(" "),t("blockquote",[t("p",[s._v("可以看到最上面显示着web地址"),t("code",[s._v("https://192.168.100.2:8006")])]),s._v(" "),t("p",[s._v("如果使用LAN口插网线是可以访问的，但是我们没有插网线，直接使用的是wifi，此时这个地址是无法访问的，下面我们继续配置WIFI")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/NloADSp1WZzLtPc.png",alt:"image-20231204110754340"}})]),s._v(" "),t("h3",{attrs:{id:"安装wpa服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装wpa服务"}},[s._v("#")]),s._v(" 安装wpa服务")]),s._v(" "),t("p",[s._v("安装包下载地址:")]),s._v(" "),t("p",[s._v("链接: https://pan.baidu.com/s/1V13sWX6olUdnBXeNnigkHg?pwd=qi7q 提取码: qi7q")]),s._v(" "),t("p",[s._v("将安装包拖入U盘")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/hFCgTIZ3AyBiJSj.png",alt:"image-20231204094503126"}})]),s._v(" "),t("p",[s._v("将U盘插入需要安装的Proxmox服务器/电脑上")]),s._v(" "),t("p",[s._v("通过"),t("code",[s._v("fdisk -l")]),s._v("查看我们插入的U盘")]),s._v(" "),t("p",[s._v("将U盘挂载到服务器"),t("code",[s._v("/mnt")]),s._v("目录，"),t("code",[s._v("mount -i /dev/sdb2 /mnt")])]),s._v(" "),t("p",[s._v("将"),t("code",[s._v("/mnt")]),s._v("目录下的安装包复制到服务器上")]),s._v(" "),t("p",[t("code",[s._v("cp -r /mnt/wpa ~")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/lRXDdktPK7WMVqf.png",alt:"image-20231204105401325"}})]),s._v(" "),t("p",[s._v("进入wpa目录")]),s._v(" "),t("p",[t("code",[s._v("cd ~/wpa")])]),s._v(" "),t("p",[s._v("安装wpasupplicant安装包（这里有些安装包可能安装失败，但不影响wpasupplicant最终使用）")]),s._v(" "),t("p",[t("code",[s._v("dpkg -i *.deb")])]),s._v(" "),t("h3",{attrs:{id:"配置wifi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置wifi"}},[s._v("#")]),s._v(" 配置wifi")]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("ip a")]),s._v("可以查看到所有网卡信息")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@pve: "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": l0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1866")]),s._v("\n\t\tlink/loopback eo:oe:ee:ee:ee:eo brd eo:eo:ee:eo:00:00\n\t\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" lo\n\t\t\t\tvalid_lft forever preferred_Ift forever \n\t\tinet6 ::1/128 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" noprefixroute \n\t\t\t\tvalid_lft forever preferred lft forever\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": enp4sO: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noop state DOWN group default qlen 10ee\n\t\tlink/ether a0:36:bc:09:19:20 brd ff:ff:ff:ff:ff:ff\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": wlxec6073a623a4: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1509")]),s._v(" qdisc noop state DOWN group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\t\tlink/ether ec:60:73:a6:23:a4 brd ff:ff:ff:ff:ff:ff\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": vmbre: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST, MULTICAST,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue state UNKNOMN group default qien "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1090")]),s._v("\n\t\tlink/ether 3e:2c:e5:fd:aa:c3 brd ff:ff:ff:ff:ff:ff\n\t\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".100.2/24 scope global vmbro \n\t\t\t\tvalid_lft forever preferred_lft forever \n\t\tinet6 feBe::3c2c:e5ff:fefd:aac3/64 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" \n\t\t\t\tvalid_lft forever preferred_lft forever \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[t("code",[s._v("wlxec6073a623a4")]),s._v("就是无限网卡，一般无限网卡都是"),t("code",[s._v("wl")]),s._v("开头的")]),s._v(" "),t("p",[s._v("生成wifi信息配置文件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wpa_passphrase WiFi名称 WiFi密码 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/wpa.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看生成结果")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('network={\n        ssid="WiFi名称"\n        scan_ssid=1 #表示可以扫描隐藏WiFi\n        #psk="WiFi密码"\n        priority=1 #优先级\n        psk=XXXXXX\n}\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("修改配置文件"),t("code",[s._v("/etc/network/interfaces")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("auto lo\niface lo inet loopback\n\nauto vmbro\niface vmbro inet static\n\t\t\taddress "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".100.2/24 \n\t\t\tbridge-ports none\n\t\t\tbridge-stp off\n\t\t\tbridge-fd o\n\nauto wlxec6073a623a4\niface wlxec6073a623a4 inet dhcp\n\t\t\twpa-conf /etc/wpa.conf \n\t\t\t\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/network/interfaces.d/*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("重启使wifi配置生效"),t("code",[s._v("reboot")])]),s._v(" "),t("p",[s._v("执行命令确认无限网卡是否可用,返回OK则说明可以扫描wifi了")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wpa_cli -i wlxec6073a623a4\nOK\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("wpa_cli -i wlp2s0 scan         　     #搜索附件Wi-Fi热点\nwpa_cli -i wlp2s0 scan_result 　      #显示搜索Wi-Fi热点\nwpa_cli -i wlp2s0 status              #当前WPA/EAPOL/EAP通讯状态")])]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("ip a")]),s._v("可以看到无限网卡通过wifi获取到的IP")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@pve:^"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ip a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n  link/loopback ee:ee:ee:ee:ee:00 brd ee:0:00:00:09:00\n  inet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n  valid_lft forever preferred_Ift forever inet6 ::1/128 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" noprefixroute valid_lft forever preferred_lft. forever\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": enp4s0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BRDADCAST,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu 150e adisc noop state DOWN group default glen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\tlink/ether a0:36:bc:09:19:20 brd ff:ff:ff:ff:ff:ff\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": wlxec6073a623a4: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BRDADCAST,MULTICAST:UF,LONER_UP, mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" adisc noqueue state UP group default glen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1900")]),s._v("\n\tlink/ether ec:60:73:a6:23:a4 brd. ff:ff:fF:ff:Ff:ff\n\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.133/24 brd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.255 scope global dynamic wlxec6e73a623a4\n\t\t\tvalid_1ft 7105sec prefenred_lft 7105sec\n\tinet6 fe60::ee60: 734f:fea6:23a4/64 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n\t\t\tvalid 1ft forever prefenred_1ft forever\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": wmbr0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1509")]),s._v(" adisc noqueue state UNKNOWN group default qlen 10ee\n\tLink/ether 5a:ef366:CBs41:7d brd ff:ff；ff:ff:ff:f7\n\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".100.2/24 scope slobal vmbre valid Ift forever prefenned_ift forever \n\tinet6 fe6e::5Bef:66ff"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("fecB:417a/64 scope Link valid_ift fonever prefenred_1ft forever\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("看到无限网卡IP位，192.168.1.133，无限网卡显示ip，此时就可以访问网络了")]),s._v(" "),t("p",[s._v("验证")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" www.baidu.com\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" 内网其他服务器IP地址\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@pve:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ping www.baidu.com")]),s._v("\nPING uuu.a.shifen.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bytes of data.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": lcmp "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("_seg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("1cmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.2")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.6")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from 11e.242.68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.6")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v(" ms\n-- wuw.a.shifen.com "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" statistics -\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" packets transmitted, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" received, o% packet loss, "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" 4007mis\nrtt min/avg/max/ mdev "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.175")]),s._v("/77.505/120.356/34.026 ms\nroot@pve:"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ping 192.168.1.8")]),s._v("\nPING "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bytes of data.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" .ttl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("158")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("178")]),s._v(" ms \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.04")]),s._v(" ms\n--- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.8 ping' statistlcs ---\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets transmitted, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" received, o% packet loss, "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" 2002ms\nrtt min/avg/max/mdev "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.040")]),s._v("/113.096/178.333/78.266 ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("发现网络都已经通了")]),s._v(" "),t("blockquote",[t("p",[s._v("命令补充：")]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("ifup wlxec6073a623a4")]),s._v("开启wifi")]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("ifdown wlxec6073a623a4")]),s._v("关闭wifi")]),s._v(" "),t("p",[s._v("通过  "),t("code",[s._v("ps -ef|grep wpa")]),s._v("可以看到无限网卡启动进程")])]),s._v(" "),t("h3",{attrs:{id:"通过ip访问proxmox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过ip访问proxmox"}},[s._v("#")]),s._v(" 通过IP访问Proxmox")]),s._v(" "),t("p",[s._v("通过"),t("code",[s._v("ip a")]),s._v("可以看到Proxmox所在机器的IP地址")]),s._v(" "),t("p",[s._v("TODO 补充图片")]),s._v(" "),t("p",[s._v("访问地址："),t("code",[s._v("https://192.168.1.133:8006/")])]),s._v(" "),t("p",[s._v("会提示不是安全链接，点击继续访问即可")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/uGPBFKNAzI2U4y7.png",alt:"image-20231204103223788"}})]),s._v(" "),t("p",[s._v("语言选择中文，账号密码就是服务器的账号密码")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/5NiIdkVfKgB9J4h.png",alt:"image-20231204103320715"}})]),s._v(" "),t("p",[s._v("提示无有效订阅，直接确定就行")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/6jEU3XsbcYtFQ54.png",alt:"image-20231204103422012"}})]),s._v(" "),t("h3",{attrs:{id:"创建服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建服务器"}},[s._v("#")]),s._v(" 创建服务器")]),s._v(" "),t("p",[s._v("进入模板")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/zMSVGeYtCRr3bma.png",alt:"image-20231204103554136"}})]),s._v(" "),t("p",[s._v("选择需要下载的模板（这里随便选择一个ubuntu系统模板下载）")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/znIMZPeHajv3hJD.png",alt:"image-20231204103644183"}})]),s._v(" "),t("p",[s._v("点击下载会提示详细信息")]),s._v(" "),t("blockquote",[t("p",[s._v("也可以根据提示，进入服务器目录查看下载进度，目录为"),t("code",[s._v("/var/lib/vz/template/cache")]),s._v("，也可以在当前页面等待，可以看到下载进度")]),s._v(" "),t("p",[s._v("如果网络比较慢，也可以在本地下载好，下载地址下图有显示，直接将下载好的文件放在上面的那个目录中，页面刷新会自动加载")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/cxEZaMhusHGlizt.png",alt:"image-20231204103723779"}})]),s._v(" "),t("p",[s._v("下载完成可以看到模板列表中显示")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/1gBEbhXcGQfSRPo.png",alt:"image-20231204112746294"}})]),s._v(" "),t("p",[s._v("点击右上角"),t("code",[s._v("创建CT")])]),s._v(" "),t("blockquote",[t("p",[s._v("这里说一下CT和VM(虚拟机区别)")]),s._v(" "),t("p",[s._v("在Proxmox中，CT和VM是两个不同的概念。CT（Container）是基于LXC（Linux Containers）技术的容器，它使用内核级别的虚拟化，因此具有更好的性能和安全性。而VM（Virtual Machine）是基于硬件虚拟化的虚拟机，可以在其上运行不同的操作系统。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/5sft97WkOSMX1Iv.png",alt:"image-20231204112847788"}})]),s._v(" "),t("p",[s._v("设置主机名和密码,点击"),t("code",[s._v("下一步")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/u7rdsWaiqkOZ9YX.png",alt:"image-20231204113243193"}})]),s._v(" "),t("p",[s._v("选择模板，即安装的系统")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/uWjprZSJbIcP8zX.png",alt:"image-20231204113730361"}})]),s._v(" "),t("p",[s._v("设置磁盘空间")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/Bb8oWdxNLRkJcqm.png",alt:"image-20231204113827420"}})]),s._v(" "),t("p",[s._v("设置CPU")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/K9CoAxD3XhrqWl8.png",alt:"image-20231204113907247"}})]),s._v(" "),t("p",[s._v("设置内存")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/P5BUrGvTlEsMO9a.png",alt:"image-20231204113949250"}})]),s._v(" "),t("p",[s._v("设置网络,IP地址这里随便设置，一会会在Proxmox服务器中进行调整")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/SwQAbIcHCGdlxU3.png",alt:"image-20231204114201931"}})]),s._v(" "),t("p",[s._v("DNS可以设置也可以默认使用主机配置，下一步")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/wzGsuToLvUpZWMR.png",alt:"image-20231204114306655"}})]),s._v(" "),t("p",[s._v("点击完成")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/uqp5O8rt7BYeCPV.png",alt:"image-20231204114347877"}})]),s._v(" "),t("p",[s._v("看到创建进度，提示"),t("code",[s._v("TASK OK")]),s._v("则创建完成")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/1iXqTjkbgPFNUHa.png",alt:"image-20231204114410465"}})]),s._v(" "),t("p",[s._v("点击启动刚刚创建的服务器")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/LSf5Wmgp9ozGYVF.png",alt:"image-20231204114543119"}})]),s._v(" "),t("p",[s._v("输入账号密码就可以在Proxmox中登录服务器")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/8mzjexhscIZaXAH.png",alt:"image-20231204114620235"}})]),s._v(" "),t("p",[s._v("输入"),t("code",[s._v("ip a")]),s._v("可以看到设置的IP地址就是刚刚我们配置的地址")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/UQETudNnHaZIomt.png",alt:"image-20231204114704343"}})]),s._v(" "),t("p",[s._v("此时服务器是没有网络的")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ping 110.242.68.3")]),s._v("\nPING "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bytes of data.\nFrom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.2 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" Destination Host Unreachable\nFrom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.2 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" Destination Host Unreachable\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"配置服务器网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置服务器网络"}},[s._v("#")]),s._v(" 配置服务器网络")]),s._v(" "),t("p",[s._v("修改网络配置文件"),t("code",[s._v("/etc/network/interfaces")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("auto lo\niface lo inet loopback\n\nauto enp4s0\niface enp4s0 inet dhcp\n\nauto wlxec6073a623a4\niface wlxec6073a623a4 inet dhcp\n        wpa-conf /etc/wpa.conf\n        gateway "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1\n\nauto vmbr0\niface vmbr0 inet static\n        address "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1/24\n        bridge-ports none\n        bridge-stp off\n        bridge-fd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        post-up "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/net/ipv4/ip_forward\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面两句记得把网卡名称wlxec6073a623a4改成自己的无限网卡编号")]),s._v("\n        post-up iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" POSTROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0.0.0/24'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wlxec6073a623a4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" MASQUERADE\n        post-down iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" POSTROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0.0.0/24'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wlxec6073a623a4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" MASQUERADE\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#iface enp4s0 inet manual")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auto wlxec6073a623a4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#iface wlxec6073a623a4 inet dhcp")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       wpa-conf /etc/wpa.conf")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/network/interfaces.d/*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("p",[s._v("重启服务器"),t("code",[s._v("reboot")])]),s._v(" "),t("p",[s._v("重启成功后进入系统"),t("code",[s._v("https://192.168.1.133:8006/")])]),s._v(" "),t("p",[s._v("再次ping百度，发现已经可以访问互联网了")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root@test-ubuntu:~"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ping www.baidu.com")]),s._v("\nPING www.a.shifen.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" bytes of data.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.8")]),s._v(" ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),s._v(" ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37.8")]),s._v(" ms\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.242")]),s._v(".68.4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("166")]),s._v(" ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"连接虚拟机方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接虚拟机方式"}},[s._v("#")]),s._v(" 连接虚拟机方式")]),s._v(" "),t("p",[s._v("因为通过wifi网络创建虚拟机网段不是同一网段，这里我们需要解决连接虚拟机网络问题")]),s._v(" "),t("h4",{attrs:{id:"第一种方法-通过建设openvpn方式连接虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一种方法-通过建设openvpn方式连接虚拟机"}},[s._v("#")]),s._v(" 第一种方法：通过建设OpenVPN方式连接虚拟机")]),s._v(" "),t("p",[s._v("参考：")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://datamining.blog.csdn.net/article/details/134928350",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://datamining.blog.csdn.net/article/details/134928350"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.hadoop.wiki/pages/c0cfa5/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.hadoop.wiki/pages/c0cfa5/"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"第二种方法-通过端口转发直连虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二种方法-通过端口转发直连虚拟机"}},[s._v("#")]),s._v(" 第二种方法：通过端口转发直连虚拟机")]),s._v(" "),t("p",[s._v("通过端口转发访问")]),s._v(" "),t("p",[s._v("创建文件"),t("code",[s._v("/root/iptablesNat.sh")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这句话的作用就是通过网卡wlp7s0把通过12222端口访问的流量转到IP为10.10.10.3的22端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样我们通过 ssh -p 12222 root@192.168.31.252 连接时，就能连接到Ubuntu虚拟机了")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -i 注意修改成自己的无限网卡名")]),s._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" PREROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" wlxec6073a623a4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dport")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51022")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" DNAT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.2:22\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 想转发几个端口就写几个转发语句 192.168.31.252:6666 -> 10.10.10.3:178")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# iptables -t nat -A PREROUTING -i wlp7s0 -p tcp --dport 51022 -j DNAT --to 10.0.0.2:3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("chmox +x iptablesNat.sh")]),s._v(" "),t("p",[s._v("修改"),t("code",[s._v("/etc/network/interfaces")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("auto lo\niface lo inet loopback\n\nauto enp4s0\niface enp4s0 inet dhcp\n\nauto wlxec6073a623a4\niface wlxec6073a623a4 inet dhcp\n        wpa-conf /etc/wpa.conf\n        gateway "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1\n\nauto vmbr0\niface vmbr0 inet static\n        address "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1/24\n        bridge-ports none\n        bridge-stp off\n        bridge-fd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        post-up "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/net/ipv4/ip_forward\n        post-up "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" /root/iptablesNat.sh\n        post-up iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" POSTROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0.0.0/24'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wlxec6073a623a4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" MASQUERADE\n        post-down iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" POSTROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.0.0.0/24'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wlxec6073a623a4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" MASQUERADE\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/network/interfaces.d/*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("重启网络")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl restart networking\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("测试连通性")]),s._v(" "),t("blockquote",[t("p",[s._v("如果网络不通，重启一下虚拟机（注意不是Proxmox）")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("tcping "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.133 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51022")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.133 port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51022")]),s._v(" open.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"设置安装ubuntu服务器允许root用户远程登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置安装ubuntu服务器允许root用户远程登录"}},[s._v("#")]),s._v(" 设置安装ubuntu服务器允许root用户远程登录")]),s._v(" "),t("p",[t("code",[s._v("nano /etc/ssh/sshd_config")])]),s._v(" "),t("p",[s._v("修改"),t("code",[s._v("PermitRootLogin")]),s._v("为yes")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("PermitRootLogin")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("重启ssh服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl restart "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时就可以通过转发的端口连接服务器了")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/nmzaIQYXZJqNeF8.png",alt:"image-20231204144851365"}})]),s._v(" "),t("p",[s._v("也可以在Proxmox中创建个windows服务器，他们内部网络就互通了，就不用这么麻烦。")]),s._v(" "),t("blockquote",[t("p",[s._v("PS：也可以自己建设一个VPN，打通网络。")])]),s._v(" "),t("h2",{attrs:{id:"更换国内ct源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更换国内ct源"}},[s._v("#")]),s._v(" 更换国内CT源")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/share/perl5/PVE/APLInfo.pm /usr/share/perl5/PVE/APLInfo.pm_back\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s|http://download.proxmox.com|https://mirrors.bfsu.edu.cn/proxmox|g'")]),s._v(" /usr/share/perl5/PVE/APLInfo.pm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("重启服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl restart pvedaemon\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"添加硬盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加硬盘"}},[s._v("#")]),s._v(" 添加硬盘")]),s._v(" "),t("blockquote",[t("p",[s._v("参考：https://www.bilibili.com/read/cv27378475/")])]),s._v(" "),t("p",[s._v("我的机器是有两块硬盘，安装Proxmox时默认只挂载了一块到Proxmox中")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/VojtrLWTNDC98df.png",alt:"image-20231204173514026"}})]),s._v(" "),t("p",[s._v("点击"),t("code",[s._v("磁盘")]),s._v("可以看到我们的服务器的磁盘")]),s._v(" "),t("blockquote",[t("p",[s._v("以"),t("code",[s._v("/dev/sd")]),s._v("开头的表示未挂载的硬盘")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/UFbdfrTVhGRCj56.png",alt:"image-20231204173544193"}})]),s._v(" "),t("p",[s._v("擦除磁盘")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/ZmB2u9cKMydY3TX.png",alt:"image-20231204174032270"}})]),s._v(" "),t("p",[s._v("点"),t("code",[s._v("是")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/AKLXyGONTVUbwFi.png",alt:"image-20231204174114269"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/8po5X3qeGi7clTx.png",alt:"image-20231204174124618"}})]),s._v(" "),t("p",[s._v("显示下图说明擦除成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/bWE8xwCPNj9r2h3.png",alt:"image-20231204174152973"}})]),s._v(" "),t("p",[s._v("创建"),t("code",[s._v("Volume Group")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/vrjaYNXmOn7D9Pk.png",alt:"image-20231204174453792"}})]),s._v(" "),t("p",[s._v("选择磁盘和填写名称")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/yYfrViMXEZqlJgL.png",alt:"image-20231204174646828"}})]),s._v(" "),t("p",[s._v("创建完成后，可以看到下图显示的空间")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/unZSjkNscUehBKA.png",alt:"image-20231204174715370"}})]),s._v(" "),t("p",[s._v("再创建虚拟机时，就可以选择刚刚创建的磁盘了")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/12/06/OKDSiMrdlbNnB2u.png",alt:"image-20231204174834137"}})]),s._v(" "),t("h2",{attrs:{id:"创建centos虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建centos虚拟机"}},[s._v("#")]),s._v(" 创建CentOS虚拟机")]),s._v(" "),t("p",[t("a",{attrs:{href:"./29.Proxmox%E5%88%9B%E5%BB%BACentOS%E8%99%9A%E6%8B%9F%E6%9C%BA"}},[s._v("./29.Proxmox创建CentOS虚拟机")])]),s._v(" "),t("h2",{attrs:{id:"错误合集"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误合集"}},[s._v("#")]),s._v(" 错误合集")]),s._v(" "),t("h3",{attrs:{id:"异常-org-freedesktop-dbus-error-noserver-failed-to-connect-to-socket-run-dbus-system-bus-socket-connection-refused"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常-org-freedesktop-dbus-error-noserver-failed-to-connect-to-socket-run-dbus-system-bus-socket-connection-refused"}},[s._v("#")]),s._v(" 异常：org.freedesktop.DBus.Error.NoServer: Failed to connect to socket /run/dbus/system_bus_socket: Connection refused")]),s._v(" "),t("p",[s._v("https://forum.proxmox.com/threads/dbus-failed-to-connect-to-socket-run-dbus-system_bus_socket-connection-refused.116725/")]),s._v(" "),t("h3",{attrs:{id:"异常-unauthorized-ip-51-79-228-122-443"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异常-unauthorized-ip-51-79-228-122-443"}},[s._v("#")]),s._v(" 异常： Unauthorized [IP: 51.79.228.122 443]")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("root@pve:~# apt update\nHit:1 http://ftp.debian.org/debian bookworm InRelease\nHit:2 http://ftp.debian.org/debian bookworm-updates InRelease                        \nHit:3 http://security.debian.org bookworm-security InRelease                         \nErr:4 https://enterprise.proxmox.com/debian/ceph-quincy bookworm InRelease\n  401  Unauthorized [IP: 51.79.228.122 443]\nErr:5 https://enterprise.proxmox.com/debian/pve bookworm InRelease\n  401  Unauthorized [IP: 51.79.228.122 443]\nReading package lists... Done\nE: Failed to fetch https://enterprise.proxmox.com/debian/ceph-quincy/dists/bookworm/InRelease  401  Unauthorized [IP: 51.79.228.122 443]\nE: The repository 'https://enterprise.proxmox.com/debian/ceph-quincy bookworm InRelease' is not signed.\nN: Updating from such a repository can't be done securely, and is therefore disabled by default.\nN: See apt-secure(8) manpage for repository creation and user configuration details.\nE: Failed to fetch https://enterprise.proxmox.com/debian/pve/dists/bookworm/InRelease  401  Unauthorized [IP: 51.79.228.122 443]\nE: The repository 'https://enterprise.proxmox.com/debian/pve bookworm InRelease' is not signed.\nN: Updating from such a repository can't be done securely, and is therefore disabled by default.\nN: See apt-secure(8) manpage for repository creation and user configuration details.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("解决方法：")]),s._v(" "),t("div",{staticClass:"language-none line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mv /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list.bak\nmv /etc/apt/sources.list.d/ceph.list /etc/apt/sources.list.d/ceph.list.bak\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("参考：https://www.cnblogs.com/HGNET/p/17055559.html")])]),s._v(" "),t("h2",{attrs:{id:"iso下载网站合集"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iso下载网站合集"}},[s._v("#")]),s._v(" ISO下载网站合集")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://os.click/en/Linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://os.click/en/Linux"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("https://www.xitongzhijia.net/")]),s._v(" "),t("h1",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),t("blockquote",[t("p",[s._v("网络驱动：https://github.com/morrownr/8821cu-20210916")]),s._v(" "),t("p",[s._v("https://blog.meathill.com/device/config-tp-wdn5200h-in-ubuntu-20-04.html")]),s._v(" "),t("p",[s._v("网络配置:https://blog.csdn.net/qq_19905867/article/details/114118476")]),s._v(" "),t("p",[s._v("网络设置：https://blog.csdn.net/bugApe8/article/details/128234569")])])])}),[],!1,null,null,null);t.default=n.exports}}]);