(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{579:function(s,t,a){"use strict";a.r(t);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[toc]")]),s._v(" "),t("h2",{attrs:{id:"使用加盐方法解决数据倾斜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用加盐方法解决数据倾斜"}},[s._v("#")]),s._v(" 使用加盐方法解决数据倾斜")]),s._v(" "),t("h3",{attrs:{id:"场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[s._v("#")]),s._v(" 场景")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("表")]),s._v(" "),t("th",[s._v("条件")]),s._v(" "),t("th",[s._v("数据量")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("ods.ods_a")]),s._v(" "),t("td",[s._v("全表")]),s._v(" "),t("td",[s._v("500")])]),s._v(" "),t("tr",[t("td",[s._v("ods.ods_b")]),s._v(" "),t("td",[s._v("全表")]),s._v(" "),t("td",[s._v("1万")])]),s._v(" "),t("tr",[t("td",[s._v("dwd.dwd_c_tmp")]),s._v(" "),t("td",[s._v("日期为前一天")]),s._v(" "),t("td",[s._v("2000万")])])])]),s._v(" "),t("h3",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),t("p",[s._v("很简单的一个join操作，最后写入到HDFS中发生严重数据倾斜")]),s._v(" "),t("h4",{attrs:{id:"发生倾斜的sql语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发生倾斜的sql语句"}},[s._v("#")]),s._v(" 发生倾斜的SQL语句")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" mo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t\tMODEL_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tMODEL_NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tMODEL_CODE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tSERIES_ID \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_a\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("co "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \n\t\tcolor_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tcolor_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tcolor_code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tSERIES_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tcolor_type  \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_b\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tmp "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n\t\tuid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tCREATED_AT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tVI_NO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tvin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tOWNER_CODE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tCONSULTANT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tpurchaser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tsys"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tordernr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tbill_billnr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tct_code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tcertificate_no"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tmodel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tCOLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tINNER_COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tpricesum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tdealername"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tsheet_create_date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\tsheet_created_by\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" dwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dwd_c_tmp \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" dt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2022-03-14'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" overwrite "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" dwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dwd_c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("partition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2022-03-14'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("uid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CREATED_AT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VI_NO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OWNER_CODE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CONSULTANT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("purchaser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sys"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ordernr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bill_billnr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ct_code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("certificate_no"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tmo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL_NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16081002")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_name\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16081001")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_name\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" INNER_COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pricesum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dealername"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sheet_create_date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\ttmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sheet_created_by\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tmp\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" mo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL_Id\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" co "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_code \n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br")])]),t("h4",{attrs:{id:"数据倾斜结果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据倾斜结果"}},[s._v("#")]),s._v(" 数据倾斜结果")]),s._v(" "),t("p",[s._v("发现"),t("code",[s._v("000010_0")]),s._v("文件很大")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("....\n3.2 M    9.7 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000006_0\n1.4 M    4.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000007_0\n1.8 M    5.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000008_0\n783.1 K  2.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000009_0\n713.8 M  2.1 G    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000010_0\n3.6 M    10.9 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000011_0\n2.2 M    6.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000012_0\n1.7 M    5.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-10/000013_0\n....\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[s._v("#")]),s._v(" 解决方法")]),s._v(" "),t("p",[s._v("在这个场景下，"),t("code",[s._v("tmp")]),s._v("表的数据量远大于"),t("code",[s._v("mo")]),s._v("和"),t("code",[s._v("co")]),s._v("表，因此可能会导致数据倾斜。为了解决这个问题，我们可以采用加盐方案。加盐方案是在进行连接操作时，对连接键（join key）添加一个随机数，以便在多个分区间分散数据。具体实施方案如下：")]),s._v(" "),t("ol",[t("li",[s._v("在"),t("code",[s._v("tmp")]),s._v("表的查询中，为"),t("code",[s._v("MODEL")]),s._v("和"),t("code",[s._v("COLOR")]),s._v("字段添加一个随机数，范围为0到9。可以使用"),t("code",[s._v("rand()")]),s._v("函数生成随机数并取余。同时，需要在"),t("code",[s._v("mo")]),s._v("和"),t("code",[s._v("co")]),s._v("表的查询中为"),t("code",[s._v("SERIES_ID")]),s._v("添加相同的随机数。")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("tmp "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" dwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dwd_c_tmp\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" dt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2022-03-14'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nmo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_a\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nco "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_b\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("在连接操作中，使用"),t("code",[s._v("salt_key")]),s._v("作为额外的连接条件。")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tmp\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" mo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL_ID "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" co "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("COLOR "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_code "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"优化后sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化后sql"}},[s._v("#")]),s._v(" 优化后SQL")]),s._v(" "),t("p",[s._v("调整后的完整查询如下：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v("\ntmp "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" dwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dwd_c_tmp\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" dt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2022-03-14'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nmo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_a\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nco "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    cast"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" salt_key\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ods"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ods_b\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" overwrite "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" dwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dwd_c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("partition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2022-03-14'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("uid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CREATED_AT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VI_NO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OWNER_CODE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CONSULTANT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("purchaser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sys"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ordernr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bill_billnr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ct_code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("certificate_no"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL_NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16081002")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16081001")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" INNER_COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pricesum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dealername"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sheet_create_date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sheet_created_by\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" tmp\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" mo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MODEL_ID "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" co "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("COLOR "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("color_code "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salt_key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" mo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" co"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SERIES_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br")])]),t("p",[s._v("通过这种加盐方案，可以有效降低数据倾斜的风险，提高查询性能。")]),s._v(" "),t("p",[s._v("执行上面完整的SQL后数据分配如下,发现已经没有太大的数据文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("1.0 M    3.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000000_0\n3.5 M    10.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000001_0\n1.4 M    4.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000002_0\n7.0 M    20.9 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000003_0\n1.5 M    4.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000004_0\n1.0 M    3.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000005_0\n8.7 M    26.1 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000006_0\n10.7 M   32.0 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000007_0\n904.0 K  2.6 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000008_0\n2.7 M    8.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000009_0\n4.9 M    14.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000010_0\n8.5 M    25.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000011_0\n1.3 M    3.8 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000012_0\n1.6 M    4.9 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000013_0\n72.1 M   216.3 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000014_0\n10.2 M   30.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000015_0\n83.5 M   250.6 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000016_0\n2.2 M    6.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000017_0\n5.9 M    17.8 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000018_0\n2.1 M    6.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000019_0\n9.4 M    28.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000020_0\n6.4 M    19.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000021_0\n1.6 M    4.8 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000022_0\n1.8 M    5.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000023_0\n3.6 M    10.9 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000024_0\n11.5 M   34.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000025_0\n71.9 M   215.8 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000026_0\n5.4 M    16.1 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000027_0\n1.3 M    3.8 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000028_0\n3.9 M    11.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000029_0\n5.3 M    15.8 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000030_0\n1.8 M    5.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000031_0\n389.2 K  1.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000032_0\n945.7 K  2.8 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000033_0\n6.2 M    18.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000034_0\n1.3 M    4.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000035_0\n73.9 M   221.7 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000036_0\n9.8 M    29.3 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000037_0\n1.1 M    3.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000038_0\n1.1 M    3.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000039_0\n1.1 M    3.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000040_0\n72.6 M   217.8 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000041_0\n27.5 M   82.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000042_0\n9.8 M    29.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000043_0\n88.2 M   264.5 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000044_0\n724.1 K  2.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000045_0\n73.4 M   220.1 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000046_0\n1.8 M    5.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000047_0\n1.0 M    3.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000048_0\n2.0 M    6.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000049_0\n1.3 M    4.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000050_0\n1.5 M    4.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000051_0\n9.5 M    28.5 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000052_0\n2.6 M    7.7 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000053_0\n688.3 K  2.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000054_0\n1.4 M    4.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000055_0\n1.7 M    5.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000056_0\n19.9 M   59.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000057_0\n9.4 M    28.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000058_0\n4.9 M    14.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000059_0\n2.2 M    6.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000060_0\n1.1 M    3.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000061_0\n5.5 M    16.5 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000062_0\n1.6 M    4.9 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000063_0\n6.8 M    20.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000064_0\n11.0 M   32.9 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000065_0\n9.7 M    29.1 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000066_0\n1.8 M    5.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000067_0\n4.6 M    13.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000068_0\n22.2 M   66.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000069_0\n6.4 M    19.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000070_0\n1.4 M    4.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000071_0\n10.1 M   30.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000072_0\n1.7 M    5.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000073_0\n1.4 M    4.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000074_0\n10.1 M   30.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000075_0\n1.2 M    3.6 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000076_0\n759.9 K  2.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000077_0\n1.2 M    3.7 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000078_0\n1.9 M    5.6 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000079_0\n1.1 M    3.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000080_0\n3.9 M    11.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000081_0\n4.4 M    13.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000082_0\n25.2 M   75.6 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000083_0\n2.4 M    7.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000084_0\n486.6 K  1.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000085_0\n737.2 K  2.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000086_0\n13.1 M   39.2 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000087_0\n1.8 M    5.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000088_0\n558.2 K  1.6 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000089_0\n994.8 K  2.9 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000090_0\n2.4 M    7.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000091_0\n1.1 M    3.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000092_0\n5.6 M    16.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000093_0\n10.3 M   30.8 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000094_0\n1.3 M    3.9 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000095_0\n1.2 M    3.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000096_0\n1.9 M    5.6 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000097_0\n1.4 M    4.3 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000098_0\n2.3 M    6.9 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000099_0\n10.0 M   29.9 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000100_0\n5.8 M    17.4 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000101_0\n1.8 M    5.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000102_0\n1.8 M    5.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000103_0\n396.5 K  1.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000104_0\n1.1 M    3.2 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000105_0\n823.2 K  2.4 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000106_0\n1.8 M    5.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000107_0\n1.4 M    4.1 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000108_0\n3.9 M    11.7 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000109_0\n2.7 M    8.0 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000110_0\n79.9 M   239.8 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000111_0\n861.0 K  2.5 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000112_0\n917.2 K  2.7 M    /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000113_0\n74.3 M   223.0 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000114_0\n14.8 M   44.5 M   /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000115_0\n72.4 M   217.1 M  /usr/hive/warehouse/dwd.db/dwd_c/dt=2022-03-14/000116_0\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br"),t("span",{staticClass:"line-number"},[s._v("113")]),t("br"),t("span",{staticClass:"line-number"},[s._v("114")]),t("br"),t("span",{staticClass:"line-number"},[s._v("115")]),t("br"),t("span",{staticClass:"line-number"},[s._v("116")]),t("br"),t("span",{staticClass:"line-number"},[s._v("117")]),t("br"),t("span",{staticClass:"line-number"},[s._v("118")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);