(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{429:function(a,s,t){"use strict";t.r(s);var v=t(8),e=Object(v.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"告别无进度等待-linux系统中为cp和mv命令加上实时进度条"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#告别无进度等待-linux系统中为cp和mv命令加上实时进度条"}},[a._v("#")]),a._v(" 告别无进度等待：Linux系统中为cp和mv命令加上实时进度条")]),a._v(" "),s("p",[a._v("在Linux系统中，文件复制和移动是日常操作中不可避免的任务。尽管传统的"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("命令功能强大，但它们在处理大文件或大量文件时，缺乏实时反馈。为了解决这一问题，我们今天将介绍"),s("code",[a._v("advcpmv")]),a._v("，一个增强版的"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("工具，它为文件操作带来了进度条显示、速度监控等实用功能，显著提升用户体验。")]),a._v(" "),s("h2",{attrs:{id:"一、advcpmv简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、advcpmv简介"}},[a._v("#")]),a._v(" 一、advcpmv简介")]),a._v(" "),s("p",[s("code",[a._v("advcpmv")]),a._v("是一款Linux工具，用于替代"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("命令。其主要特点是在文件复制和移动时显示实时进度条、传输速度及预计完成时间。这些信息对于大型文件或长时间操作尤为有用，可以让用户更好地掌握操作进程。此外，"),s("code",[a._v("advcpmv")]),a._v("还支持批量文件操作，在处理大量数据时尤为高效。")]),a._v(" "),s("h2",{attrs:{id:"二、advcpmv的优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、advcpmv的优势"}},[a._v("#")]),a._v(" 二、advcpmv的优势")]),a._v(" "),s("p",[a._v("在深入了解"),s("code",[a._v("advcpmv")]),a._v("的安装和使用之前，让我们先看看它相比传统"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("命令的主要优势：")]),a._v(" "),s("ol",[s("li",[s("strong",[a._v("实时进度条")]),a._v("："),s("code",[a._v("advcpmv")]),a._v("在复制或移动文件时显示进度条，让用户可以直观地了解操作进度。")]),a._v(" "),s("li",[s("strong",[a._v("传输速度显示")]),a._v("：工具会显示当前的传输速度，帮助用户评估操作的效率。")]),a._v(" "),s("li",[s("strong",[a._v("预计完成时间")]),a._v("：根据当前速度估算操作完成所需的时间，方便用户合理安排时间。")]),a._v(" "),s("li",[s("strong",[a._v("支持大文件和批量操作")]),a._v("：特别适合处理大文件或批量文件，效率明显提升。")])]),a._v(" "),s("h2",{attrs:{id:"三、安装advcpmv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、安装advcpmv"}},[a._v("#")]),a._v(" 三、安装advcpmv")]),a._v(" "),s("p",[a._v("接下来，我们将分步骤介绍如何安装"),s("code",[a._v("advcpmv")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"_3-1-前置准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-前置准备"}},[a._v("#")]),a._v(" 3.1 前置准备")]),a._v(" "),s("p",[a._v("在开始安装之前，请确保您的系统已安装了"),s("code",[a._v("curl")]),a._v("和"),s("code",[a._v("bash")]),a._v("，并且您具有"),s("code",[a._v("sudo")]),a._v("权限。对于某些系统，可能还需要先安装开发工具包（如"),s("code",[a._v("build-essential")]),a._v("）。")]),a._v(" "),s("h3",{attrs:{id:"_3-2-设置环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-设置环境变量"}},[a._v("#")]),a._v(" 3.2 设置环境变量")]),a._v(" "),s("p",[a._v("安装过程中，有时可能会遇到与"),s("code",[a._v("configure")]),a._v("脚本相关的安全警告。为避免这种情况，可以设置以下环境变量：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("FORCE_UNSAFE_CONFIGURE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("此变量允许"),s("code",[a._v("configure")]),a._v("脚本在安装过程中绕过一些安全检查。")]),a._v(" "),s("h3",{attrs:{id:"_3-3-下载并安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-下载并安装"}},[a._v("#")]),a._v(" 3.3 下载并安装")]),a._v(" "),s("p",[a._v("使用以下命令下载并执行安装脚本：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" https://raw.githubusercontent.com/jarun/advcpmv/master/install.sh --create-dirs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" ./advcpmv/install.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("cd advcpmv "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" install.sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("此脚本将自动下载所需的文件并进行编译。")]),a._v(" "),s("p",[a._v("如果无法现在，请关注公众号“"),s("strong",[a._v("编程与架构")]),a._v("“，发送: "),s("strong",[a._v("6374")]),a._v(" 获取下载链接。")]),a._v(" "),s("h3",{attrs:{id:"_3-4-手动安装步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-手动安装步骤"}},[a._v("#")]),a._v(" 3.4 手动安装步骤")]),a._v(" "),s("p",[a._v("如果需要手动进行安装，请进入源码目录并执行以下命令：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" ./advcpmv/advcp /usr/local/bin/cpg\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" ./advcpmv/advmv /usr/local/bin/mvg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("blockquote",[s("p",[s("strong",[a._v("注意")]),a._v("：从v9.0版本开始，进度条功能与"),s("code",[a._v("reflink")]),a._v("（引用链接）不兼容。因此，在使用进度条功能时，"),s("code",[a._v("reflink")]),a._v("功能将被禁用。")])]),a._v(" "),s("h3",{attrs:{id:"_3-5-配置别名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-配置别名"}},[a._v("#")]),a._v(" 3.5 配置别名")]),a._v(" "),s("p",[a._v("为了更方便地使用"),s("code",[a._v("advcpmv")]),a._v("，可以为"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("命令设置别名：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"alias cp='/usr/local/bin/cpg -g'\"")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc \n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"alias mv='/usr/local/bin/mvg -g'\"")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" ~/.bashrc \n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" ~/.bashrc \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("这些别名会在执行"),s("code",[a._v("cp")]),a._v("和"),s("code",[a._v("mv")]),a._v("命令时自动调用"),s("code",[a._v("advcpmv")]),a._v("的版本，并显示进度条。")]),a._v(" "),s("h2",{attrs:{id:"四、使用advcpmv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、使用advcpmv"}},[a._v("#")]),a._v(" 四、使用advcpmv")]),a._v(" "),s("p",[a._v("安装完成后，我们可以通过以下步骤来熟悉"),s("code",[a._v("advcpmv")]),a._v("的使用。")]),a._v(" "),s("h3",{attrs:{id:"_4-1-查看帮助信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-查看帮助信息"}},[a._v("#")]),a._v(" 4.1 查看帮助信息")]),a._v(" "),s("p",[a._v("要了解更多使用选项，可以使用"),s("code",[a._v("--help")]),a._v("选项查看"),s("code",[a._v("advcp")]),a._v("和"),s("code",[a._v("advmv")]),a._v("的帮助信息：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--help")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--help")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"_4-2-实际操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-实际操作"}},[a._v("#")]),a._v(" 4.2 实际操作")]),a._v(" "),s("p",[a._v("下面是一个通过"),s("code",[a._v("advcpmv")]),a._v("复制文件的实际示例：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("dd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/dev/zero "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("of")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("file.txt "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1M "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("500")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" file.txt /tmp/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("在执行过程中，您将看到类似以下的信息：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("copying at "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("598.4")]),a._v(" MiB/s "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("about  0h  0m 25s remaining"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nfile.txt                                                                                         "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.2")]),a._v(" GiB /   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4.9")]),a._v(" GiB\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("                  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("24.2")]),a._v(" %\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("这不仅直观地展示了文件复制的进度，还可以帮助用户掌握操作速度和预计完成时间。")]),a._v(" "),s("h2",{attrs:{id:"五、总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、总结"}},[a._v("#")]),a._v(" 五、总结")]),a._v(" "),s("p",[s("code",[a._v("advcpmv")]),a._v("是一个功能强大的Linux文件操作工具，提供了直观的进度显示和传输速度信息，极大地提高了用户在处理大文件或大量文件时的效率。对于那些经常需要进行文件复制和移动操作的Linux用户来说，"),s("code",[a._v("advcpmv")]),a._v("无疑是一个不可或缺的利器。通过简单的安装和配置，您就可以在日常操作中享受到更好的用户体验。")])])}),[],!1,null,null,null);s.default=e.exports}}]);