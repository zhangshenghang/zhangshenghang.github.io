<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ambari自定义服务开发-自定义开发安装包整合到Ambari-Server中 | Jast blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="后端技术博客,专注大数据、java后端、运维学习与总结。Hadoop、Hbase、Spark、Flink等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.6b2f3ec1.css" as="style"><link rel="preload" href="/assets/js/app.a5c64990.js" as="script"><link rel="preload" href="/assets/js/2.9cc65402.js" as="script"><link rel="preload" href="/assets/js/114.dbfd963d.js" as="script"><link rel="prefetch" href="/assets/js/10.ba6c1d32.js"><link rel="prefetch" href="/assets/js/100.ccd1a39e.js"><link rel="prefetch" href="/assets/js/101.91cade52.js"><link rel="prefetch" href="/assets/js/102.027c71bd.js"><link rel="prefetch" href="/assets/js/103.de30883d.js"><link rel="prefetch" href="/assets/js/104.da277c7f.js"><link rel="prefetch" href="/assets/js/105.3bf9d637.js"><link rel="prefetch" href="/assets/js/106.a9e6dde2.js"><link rel="prefetch" href="/assets/js/107.860f85f9.js"><link rel="prefetch" href="/assets/js/108.4db25d5c.js"><link rel="prefetch" href="/assets/js/109.25820bdd.js"><link rel="prefetch" href="/assets/js/11.f1952de8.js"><link rel="prefetch" href="/assets/js/110.b15ac071.js"><link rel="prefetch" href="/assets/js/111.2de3d63d.js"><link rel="prefetch" href="/assets/js/112.0d5386a4.js"><link rel="prefetch" href="/assets/js/113.0039984c.js"><link rel="prefetch" href="/assets/js/115.1dcd21d8.js"><link rel="prefetch" href="/assets/js/116.48600243.js"><link rel="prefetch" href="/assets/js/117.bbcc1071.js"><link rel="prefetch" href="/assets/js/118.d7cd7dc2.js"><link rel="prefetch" href="/assets/js/119.7b7e1b39.js"><link rel="prefetch" href="/assets/js/12.83759251.js"><link rel="prefetch" href="/assets/js/120.330446cb.js"><link rel="prefetch" href="/assets/js/121.fd2c8119.js"><link rel="prefetch" href="/assets/js/122.ec0a20e0.js"><link rel="prefetch" href="/assets/js/123.256a201a.js"><link rel="prefetch" href="/assets/js/124.e46e6a5a.js"><link rel="prefetch" href="/assets/js/125.93869b30.js"><link rel="prefetch" href="/assets/js/126.6e6b45bb.js"><link rel="prefetch" href="/assets/js/127.7b7d0615.js"><link rel="prefetch" href="/assets/js/128.75398be2.js"><link rel="prefetch" href="/assets/js/129.1410d7a1.js"><link rel="prefetch" href="/assets/js/13.bd1c4176.js"><link rel="prefetch" href="/assets/js/130.bfe1cad6.js"><link rel="prefetch" href="/assets/js/131.286e4fb2.js"><link rel="prefetch" href="/assets/js/132.298f0154.js"><link rel="prefetch" href="/assets/js/133.25e9e0fd.js"><link rel="prefetch" href="/assets/js/134.a156117e.js"><link rel="prefetch" href="/assets/js/135.b5580f83.js"><link rel="prefetch" href="/assets/js/136.8446e66a.js"><link rel="prefetch" href="/assets/js/137.4291a0c3.js"><link rel="prefetch" href="/assets/js/138.03e36af0.js"><link rel="prefetch" href="/assets/js/139.753d5e11.js"><link rel="prefetch" href="/assets/js/14.c30cabe4.js"><link rel="prefetch" href="/assets/js/140.b136f09c.js"><link rel="prefetch" href="/assets/js/141.6e321584.js"><link rel="prefetch" href="/assets/js/142.19594f5a.js"><link rel="prefetch" href="/assets/js/143.83b5a670.js"><link rel="prefetch" href="/assets/js/144.143de838.js"><link rel="prefetch" href="/assets/js/145.ead82905.js"><link rel="prefetch" href="/assets/js/146.f037d4ec.js"><link rel="prefetch" href="/assets/js/147.2416d84a.js"><link rel="prefetch" href="/assets/js/148.c672f1e5.js"><link rel="prefetch" href="/assets/js/149.caf20103.js"><link rel="prefetch" href="/assets/js/15.a36cf9fa.js"><link rel="prefetch" href="/assets/js/150.43e61e26.js"><link rel="prefetch" href="/assets/js/151.d3d8d0ca.js"><link rel="prefetch" href="/assets/js/152.4ebef6e9.js"><link rel="prefetch" href="/assets/js/153.3c49a9bd.js"><link rel="prefetch" href="/assets/js/154.6d6660a6.js"><link rel="prefetch" href="/assets/js/155.e80efaba.js"><link rel="prefetch" href="/assets/js/156.1a2c1468.js"><link rel="prefetch" href="/assets/js/157.65dab597.js"><link rel="prefetch" href="/assets/js/158.5342d014.js"><link rel="prefetch" href="/assets/js/159.a1c44f33.js"><link rel="prefetch" href="/assets/js/16.01d2a439.js"><link rel="prefetch" href="/assets/js/160.f6de5687.js"><link rel="prefetch" href="/assets/js/161.4a33f4f3.js"><link rel="prefetch" href="/assets/js/162.293b5c45.js"><link rel="prefetch" href="/assets/js/163.94f8c46f.js"><link rel="prefetch" href="/assets/js/164.e9874af4.js"><link rel="prefetch" href="/assets/js/165.c40136e3.js"><link rel="prefetch" href="/assets/js/166.b9514f6f.js"><link rel="prefetch" href="/assets/js/167.b55df3a5.js"><link rel="prefetch" href="/assets/js/168.bfd7b561.js"><link rel="prefetch" href="/assets/js/169.ec8ee5ab.js"><link rel="prefetch" href="/assets/js/17.4a34d519.js"><link rel="prefetch" href="/assets/js/170.4e8ebcdb.js"><link rel="prefetch" href="/assets/js/171.046b515a.js"><link rel="prefetch" href="/assets/js/172.0bfdc048.js"><link rel="prefetch" href="/assets/js/173.b1065684.js"><link rel="prefetch" href="/assets/js/174.a26151c8.js"><link rel="prefetch" href="/assets/js/175.af67d813.js"><link rel="prefetch" href="/assets/js/176.8351882c.js"><link rel="prefetch" href="/assets/js/177.a5985895.js"><link rel="prefetch" href="/assets/js/178.3803a24d.js"><link rel="prefetch" href="/assets/js/179.943ff67a.js"><link rel="prefetch" href="/assets/js/18.40ac91d6.js"><link rel="prefetch" href="/assets/js/180.88c378a7.js"><link rel="prefetch" href="/assets/js/181.55d56274.js"><link rel="prefetch" href="/assets/js/182.2a01d579.js"><link rel="prefetch" href="/assets/js/183.4f593acd.js"><link rel="prefetch" href="/assets/js/184.a476b544.js"><link rel="prefetch" href="/assets/js/185.02a334a8.js"><link rel="prefetch" href="/assets/js/186.e13edcb1.js"><link rel="prefetch" href="/assets/js/187.522769b5.js"><link rel="prefetch" href="/assets/js/188.c7145e3e.js"><link rel="prefetch" href="/assets/js/189.19159109.js"><link rel="prefetch" href="/assets/js/19.c6a1d5d4.js"><link rel="prefetch" href="/assets/js/190.7eeef6ca.js"><link rel="prefetch" href="/assets/js/191.d891e4cd.js"><link rel="prefetch" href="/assets/js/192.d57db752.js"><link rel="prefetch" href="/assets/js/193.51d140b9.js"><link rel="prefetch" href="/assets/js/194.719c07fb.js"><link rel="prefetch" href="/assets/js/195.d1f4ad39.js"><link rel="prefetch" href="/assets/js/196.89045dfe.js"><link rel="prefetch" href="/assets/js/197.8b582e17.js"><link rel="prefetch" href="/assets/js/198.dd108c0b.js"><link rel="prefetch" href="/assets/js/199.6dcb685e.js"><link rel="prefetch" href="/assets/js/20.2c61c41b.js"><link rel="prefetch" href="/assets/js/200.980a6e3a.js"><link rel="prefetch" href="/assets/js/201.0022dd0a.js"><link rel="prefetch" href="/assets/js/202.b1771899.js"><link rel="prefetch" href="/assets/js/203.5b8c52fb.js"><link rel="prefetch" href="/assets/js/204.1de31510.js"><link rel="prefetch" href="/assets/js/205.e4c193e9.js"><link rel="prefetch" href="/assets/js/206.c43d57fd.js"><link rel="prefetch" href="/assets/js/207.a7696d68.js"><link rel="prefetch" href="/assets/js/208.5b51bd38.js"><link rel="prefetch" href="/assets/js/209.f2c6e228.js"><link rel="prefetch" href="/assets/js/21.9630f7d2.js"><link rel="prefetch" href="/assets/js/210.d499c1e8.js"><link rel="prefetch" href="/assets/js/211.7caf7044.js"><link rel="prefetch" href="/assets/js/212.eb88150d.js"><link rel="prefetch" href="/assets/js/213.7a66a771.js"><link rel="prefetch" href="/assets/js/214.650eca57.js"><link rel="prefetch" href="/assets/js/215.d58c9428.js"><link rel="prefetch" href="/assets/js/216.17c5fbbb.js"><link rel="prefetch" href="/assets/js/217.cc6016b1.js"><link rel="prefetch" href="/assets/js/218.0f2ad43c.js"><link rel="prefetch" href="/assets/js/219.0cc56748.js"><link rel="prefetch" href="/assets/js/22.ae388eb6.js"><link rel="prefetch" href="/assets/js/220.c6da1ce9.js"><link rel="prefetch" href="/assets/js/221.c2499e5c.js"><link rel="prefetch" href="/assets/js/222.b87b5047.js"><link rel="prefetch" href="/assets/js/223.14221086.js"><link rel="prefetch" href="/assets/js/224.48415224.js"><link rel="prefetch" href="/assets/js/225.3323e2fd.js"><link rel="prefetch" href="/assets/js/226.97115136.js"><link rel="prefetch" href="/assets/js/227.51ac123d.js"><link rel="prefetch" href="/assets/js/228.ac7adb8a.js"><link rel="prefetch" href="/assets/js/229.4423a81d.js"><link rel="prefetch" href="/assets/js/23.1b7a265e.js"><link rel="prefetch" href="/assets/js/230.93f5e7f6.js"><link rel="prefetch" href="/assets/js/231.5c829d72.js"><link rel="prefetch" href="/assets/js/232.b497791c.js"><link rel="prefetch" href="/assets/js/233.0759dd52.js"><link rel="prefetch" href="/assets/js/234.5c77c942.js"><link rel="prefetch" href="/assets/js/235.62c61b2a.js"><link rel="prefetch" href="/assets/js/236.d6e69fa9.js"><link rel="prefetch" href="/assets/js/237.0392f6c6.js"><link rel="prefetch" href="/assets/js/238.46dc8425.js"><link rel="prefetch" href="/assets/js/239.6f9df60c.js"><link rel="prefetch" href="/assets/js/24.32543ee9.js"><link rel="prefetch" href="/assets/js/240.bae013f7.js"><link rel="prefetch" href="/assets/js/241.c81b66a5.js"><link rel="prefetch" href="/assets/js/242.9296a5c8.js"><link rel="prefetch" href="/assets/js/243.4b16b49b.js"><link rel="prefetch" href="/assets/js/244.f9ee3d4b.js"><link rel="prefetch" href="/assets/js/245.a1a4b62f.js"><link rel="prefetch" href="/assets/js/246.3c7d7878.js"><link rel="prefetch" href="/assets/js/247.03056af4.js"><link rel="prefetch" href="/assets/js/248.cd672886.js"><link rel="prefetch" href="/assets/js/249.4c6c1707.js"><link rel="prefetch" href="/assets/js/25.bd2e359f.js"><link rel="prefetch" href="/assets/js/250.26ffc44a.js"><link rel="prefetch" href="/assets/js/251.85db4e67.js"><link rel="prefetch" href="/assets/js/252.d4febe54.js"><link rel="prefetch" href="/assets/js/253.df2ea5e2.js"><link rel="prefetch" href="/assets/js/254.b8d0d20e.js"><link rel="prefetch" href="/assets/js/255.49c4ec7d.js"><link rel="prefetch" href="/assets/js/256.98014536.js"><link rel="prefetch" href="/assets/js/257.25c9f009.js"><link rel="prefetch" href="/assets/js/258.1ae5e480.js"><link rel="prefetch" href="/assets/js/259.7333eaaf.js"><link rel="prefetch" href="/assets/js/26.dc9e3004.js"><link rel="prefetch" href="/assets/js/260.8edc3b07.js"><link rel="prefetch" href="/assets/js/261.e6ee2a4e.js"><link rel="prefetch" href="/assets/js/262.f248c8c3.js"><link rel="prefetch" href="/assets/js/263.82be0c8f.js"><link rel="prefetch" href="/assets/js/264.55691777.js"><link rel="prefetch" href="/assets/js/265.e346b753.js"><link rel="prefetch" href="/assets/js/266.92dc4b9b.js"><link rel="prefetch" href="/assets/js/267.c32ec0a7.js"><link rel="prefetch" href="/assets/js/268.0b55a11d.js"><link rel="prefetch" href="/assets/js/269.cc1d3112.js"><link rel="prefetch" href="/assets/js/27.f6948f93.js"><link rel="prefetch" href="/assets/js/270.8151a5d3.js"><link rel="prefetch" href="/assets/js/271.7a93b23b.js"><link rel="prefetch" href="/assets/js/272.473c500f.js"><link rel="prefetch" href="/assets/js/273.b9a56533.js"><link rel="prefetch" href="/assets/js/274.e7b60a0c.js"><link rel="prefetch" href="/assets/js/275.2adf8ff0.js"><link rel="prefetch" href="/assets/js/276.9777514a.js"><link rel="prefetch" href="/assets/js/277.c511d92a.js"><link rel="prefetch" href="/assets/js/278.abac46d2.js"><link rel="prefetch" href="/assets/js/279.5f806255.js"><link rel="prefetch" href="/assets/js/28.564c26dd.js"><link rel="prefetch" href="/assets/js/280.b4fa1858.js"><link rel="prefetch" href="/assets/js/281.5c28de7b.js"><link rel="prefetch" href="/assets/js/282.716ae2bd.js"><link rel="prefetch" href="/assets/js/283.39be7d8b.js"><link rel="prefetch" href="/assets/js/284.abc5f110.js"><link rel="prefetch" href="/assets/js/285.65637f3b.js"><link rel="prefetch" href="/assets/js/286.e004360d.js"><link rel="prefetch" href="/assets/js/287.d33c8cd1.js"><link rel="prefetch" href="/assets/js/288.ba9e1859.js"><link rel="prefetch" href="/assets/js/289.f8794ca0.js"><link rel="prefetch" href="/assets/js/29.7aa96265.js"><link rel="prefetch" href="/assets/js/290.eaebdbe2.js"><link rel="prefetch" href="/assets/js/291.bafcfffb.js"><link rel="prefetch" href="/assets/js/292.2a76dceb.js"><link rel="prefetch" href="/assets/js/293.f0ad6ee5.js"><link rel="prefetch" href="/assets/js/294.e6cd28e7.js"><link rel="prefetch" href="/assets/js/295.75c0c32e.js"><link rel="prefetch" href="/assets/js/296.1ba987c7.js"><link rel="prefetch" href="/assets/js/297.df4e6a7c.js"><link rel="prefetch" href="/assets/js/298.aa1d1380.js"><link rel="prefetch" href="/assets/js/299.dfe05cd0.js"><link rel="prefetch" href="/assets/js/3.cce5b785.js"><link rel="prefetch" href="/assets/js/30.c13ddbd0.js"><link rel="prefetch" href="/assets/js/300.19933949.js"><link rel="prefetch" href="/assets/js/301.9fa4f769.js"><link rel="prefetch" href="/assets/js/302.48bb0bca.js"><link rel="prefetch" href="/assets/js/303.60801364.js"><link rel="prefetch" href="/assets/js/304.0ec54d13.js"><link rel="prefetch" href="/assets/js/305.22aeb531.js"><link rel="prefetch" href="/assets/js/306.35173816.js"><link rel="prefetch" href="/assets/js/307.6f9f609e.js"><link rel="prefetch" href="/assets/js/308.69064216.js"><link rel="prefetch" href="/assets/js/309.185a8a53.js"><link rel="prefetch" href="/assets/js/31.e36024e9.js"><link rel="prefetch" href="/assets/js/310.39eacd5b.js"><link rel="prefetch" href="/assets/js/311.94730eab.js"><link rel="prefetch" href="/assets/js/312.372b86fb.js"><link rel="prefetch" href="/assets/js/313.79347503.js"><link rel="prefetch" href="/assets/js/314.df279936.js"><link rel="prefetch" href="/assets/js/315.a4ab6047.js"><link rel="prefetch" href="/assets/js/316.04812ac5.js"><link rel="prefetch" href="/assets/js/317.d4641ea0.js"><link rel="prefetch" href="/assets/js/318.f18535d4.js"><link rel="prefetch" href="/assets/js/319.20dfc68f.js"><link rel="prefetch" href="/assets/js/32.0ee96ddb.js"><link rel="prefetch" href="/assets/js/320.c929eba9.js"><link rel="prefetch" href="/assets/js/321.861a5c0a.js"><link rel="prefetch" href="/assets/js/322.f9e4950e.js"><link rel="prefetch" href="/assets/js/323.59cb4207.js"><link rel="prefetch" href="/assets/js/324.2747c5b1.js"><link rel="prefetch" href="/assets/js/325.b5376734.js"><link rel="prefetch" href="/assets/js/326.73ffe0f8.js"><link rel="prefetch" href="/assets/js/327.33f55ebb.js"><link rel="prefetch" href="/assets/js/328.fdd8e3ef.js"><link rel="prefetch" href="/assets/js/329.cf9000ee.js"><link rel="prefetch" href="/assets/js/33.edbffdcb.js"><link rel="prefetch" href="/assets/js/330.e9eb38bf.js"><link rel="prefetch" href="/assets/js/331.bd442f05.js"><link rel="prefetch" href="/assets/js/332.45c23042.js"><link rel="prefetch" href="/assets/js/333.73153fca.js"><link rel="prefetch" href="/assets/js/334.636199e0.js"><link rel="prefetch" href="/assets/js/335.4d0a6ae8.js"><link rel="prefetch" href="/assets/js/336.97a253e7.js"><link rel="prefetch" href="/assets/js/337.4c9b5efc.js"><link rel="prefetch" href="/assets/js/338.33f94fd1.js"><link rel="prefetch" href="/assets/js/34.4e043e27.js"><link rel="prefetch" href="/assets/js/35.6d49f989.js"><link rel="prefetch" href="/assets/js/36.f5960d39.js"><link rel="prefetch" href="/assets/js/37.74a2a80e.js"><link rel="prefetch" href="/assets/js/38.6269f916.js"><link rel="prefetch" href="/assets/js/39.141e11e0.js"><link rel="prefetch" href="/assets/js/4.64911f15.js"><link rel="prefetch" href="/assets/js/40.1bf4483c.js"><link rel="prefetch" href="/assets/js/41.c347bb50.js"><link rel="prefetch" href="/assets/js/42.e47b1df3.js"><link rel="prefetch" href="/assets/js/43.f7cad0d0.js"><link rel="prefetch" href="/assets/js/44.7a3d1f90.js"><link rel="prefetch" href="/assets/js/45.89306311.js"><link rel="prefetch" href="/assets/js/46.dc47b9d0.js"><link rel="prefetch" href="/assets/js/47.8eed0639.js"><link rel="prefetch" href="/assets/js/48.4f7cbfb6.js"><link rel="prefetch" href="/assets/js/49.e233ecee.js"><link rel="prefetch" href="/assets/js/5.9287b9e3.js"><link rel="prefetch" href="/assets/js/50.1e32c9d8.js"><link rel="prefetch" href="/assets/js/51.5e33bddb.js"><link rel="prefetch" href="/assets/js/52.70a3d801.js"><link rel="prefetch" href="/assets/js/53.82526036.js"><link rel="prefetch" href="/assets/js/54.0fa9bdf5.js"><link rel="prefetch" href="/assets/js/55.ebf4e851.js"><link rel="prefetch" href="/assets/js/56.e488aa6a.js"><link rel="prefetch" href="/assets/js/57.87413c7a.js"><link rel="prefetch" href="/assets/js/58.1c4f47bd.js"><link rel="prefetch" href="/assets/js/59.322d86a2.js"><link rel="prefetch" href="/assets/js/6.a8023fc9.js"><link rel="prefetch" href="/assets/js/60.d473b033.js"><link rel="prefetch" href="/assets/js/61.f8f26d39.js"><link rel="prefetch" href="/assets/js/62.5c5ed58e.js"><link rel="prefetch" href="/assets/js/63.e5abb75c.js"><link rel="prefetch" href="/assets/js/64.a65ce6e6.js"><link rel="prefetch" href="/assets/js/65.dbf5f0c6.js"><link rel="prefetch" href="/assets/js/66.7f4486d3.js"><link rel="prefetch" href="/assets/js/67.0bf55b7c.js"><link rel="prefetch" href="/assets/js/68.990bf5e4.js"><link rel="prefetch" href="/assets/js/69.f4b629ef.js"><link rel="prefetch" href="/assets/js/7.2b62e6bd.js"><link rel="prefetch" href="/assets/js/70.c02ca837.js"><link rel="prefetch" href="/assets/js/71.6ee1373d.js"><link rel="prefetch" href="/assets/js/72.ee903926.js"><link rel="prefetch" href="/assets/js/73.58dba419.js"><link rel="prefetch" href="/assets/js/74.a7d42e7d.js"><link rel="prefetch" href="/assets/js/75.4ffbe225.js"><link rel="prefetch" href="/assets/js/76.f2fcbfcd.js"><link rel="prefetch" href="/assets/js/77.d0c3deb7.js"><link rel="prefetch" href="/assets/js/78.0010c461.js"><link rel="prefetch" href="/assets/js/79.6a70a604.js"><link rel="prefetch" href="/assets/js/8.40ca4fd6.js"><link rel="prefetch" href="/assets/js/80.ae573a8e.js"><link rel="prefetch" href="/assets/js/81.eaf44acc.js"><link rel="prefetch" href="/assets/js/82.e6bb0732.js"><link rel="prefetch" href="/assets/js/83.23310e8c.js"><link rel="prefetch" href="/assets/js/84.54ca505b.js"><link rel="prefetch" href="/assets/js/85.9f70bfbc.js"><link rel="prefetch" href="/assets/js/86.74ddf3fb.js"><link rel="prefetch" href="/assets/js/87.60e01ba5.js"><link rel="prefetch" href="/assets/js/88.1226d6c3.js"><link rel="prefetch" href="/assets/js/89.507975f1.js"><link rel="prefetch" href="/assets/js/9.bce4872d.js"><link rel="prefetch" href="/assets/js/90.f306161d.js"><link rel="prefetch" href="/assets/js/91.3fe96e1e.js"><link rel="prefetch" href="/assets/js/92.bd84fdc8.js"><link rel="prefetch" href="/assets/js/93.0c6dbc9b.js"><link rel="prefetch" href="/assets/js/94.1eec16ff.js"><link rel="prefetch" href="/assets/js/95.84199af6.js"><link rel="prefetch" href="/assets/js/96.3a709dfa.js"><link rel="prefetch" href="/assets/js/97.388f4466.js"><link rel="prefetch" href="/assets/js/98.22f33c4e.js"><link rel="prefetch" href="/assets/js/99.3f832234.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b2f3ec1.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Jast blog" class="logo"> <span class="site-name can-hide">Jast blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><a href="/bigdata/" class="link-title">大数据</a> <span class="title" style="display:none;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/ambari/develop/" class="nav-link">《Ambari自定义开发教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/cdh/" class="nav-link">《CDH教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/clickhouse/" class="nav-link">《ClickHouse教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hdfs/" class="nav-link">《HDFS教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/dolphinscheduler/" class="nav-link">《DolphinScheduler教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hbase/" class="nav-link">《Hbase教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/iceberg/" class="nav-link">《Iceberg教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hive/" class="nav-link">《Hive教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/flume/" class="nav-link">《Flume教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kafka/" class="nav-link">《Kafka教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/impala/" class="nav-link">《Impala教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hue/" class="nav-link">《Hue教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/spark/" class="nav-link">《Spark教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/flink/" class="nav-link">《Flink教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/phoenix/" class="nav-link">《Phoenix教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/elasticsearch/" class="nav-link">《ElasticSearch教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kylin/" class="nav-link">《Kylin教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/storm/" class="nav-link">《Storm教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/yarn/" class="nav-link">《Yarn教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/presto/" class="nav-link">《Presto教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/graph/" class="nav-link">《图数据库教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kerberos/" class="nav-link">《Kerberos教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/maxwell/" class="nav-link">《Maxwell教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/minio/" class="nav-link">《MinIO教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/datax/" class="nav-link">《DataX教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/superset/" class="nav-link">《Superset教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/iotdb/" class="nav-link">《IOTDB教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/bigdata/other/" class="nav-link">《大数据相关》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="人工智能" class="dropdown-title"><a href="/ai/" class="link-title">人工智能</a> <span class="title" style="display:none;">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/paddlenlp/" class="nav-link">《PaddleNLP教程》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/yunwei/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/nginx/" class="nav-link">《Nginx教程》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/java/" class="nav-link">《Java技术文档》</a></li><li class="dropdown-item"><!----> <a href="/note/maven/" class="nav-link">《Maven教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/idea/" class="nav-link">《IDEA使用教程》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/head.jpeg"> <div class="blogger-info"><h3>Jast-zsh</h3> <span>如果你知道你要去哪里，全世界都会给你让路。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><a href="/bigdata/" class="link-title">大数据</a> <span class="title" style="display:none;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/ambari/develop/" class="nav-link">《Ambari自定义开发教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/cdh/" class="nav-link">《CDH教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/clickhouse/" class="nav-link">《ClickHouse教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hdfs/" class="nav-link">《HDFS教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/dolphinscheduler/" class="nav-link">《DolphinScheduler教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hbase/" class="nav-link">《Hbase教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/iceberg/" class="nav-link">《Iceberg教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hive/" class="nav-link">《Hive教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/flume/" class="nav-link">《Flume教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kafka/" class="nav-link">《Kafka教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/impala/" class="nav-link">《Impala教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/hue/" class="nav-link">《Hue教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/spark/" class="nav-link">《Spark教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/flink/" class="nav-link">《Flink教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/phoenix/" class="nav-link">《Phoenix教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/elasticsearch/" class="nav-link">《ElasticSearch教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kylin/" class="nav-link">《Kylin教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/storm/" class="nav-link">《Storm教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/yarn/" class="nav-link">《Yarn教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/presto/" class="nav-link">《Presto教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/graph/" class="nav-link">《图数据库教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/kerberos/" class="nav-link">《Kerberos教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/maxwell/" class="nav-link">《Maxwell教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/minio/" class="nav-link">《MinIO教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/datax/" class="nav-link">《DataX教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/superset/" class="nav-link">《Superset教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/iotdb/" class="nav-link">《IOTDB教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/bigdata/other/" class="nav-link">《大数据相关》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="人工智能" class="dropdown-title"><a href="/ai/" class="link-title">人工智能</a> <span class="title" style="display:none;">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/paddlenlp/" class="nav-link">《PaddleNLP教程》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/yunwei/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/nginx/" class="nav-link">《Nginx教程》笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/java/" class="nav-link">《Java技术文档》</a></li><li class="dropdown-item"><!----> <a href="/note/maven/" class="nav-link">《Maven教程》笔记</a></li><li class="dropdown-item"><!----> <a href="/note/idea/" class="nav-link">《IDEA使用教程》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/166f2f/" class="sidebar-link">Ambari自定义服务开发-项目初始化</a></li><li><a href="/pages/f4e4dc/" class="sidebar-link">Ambari自定义服务开发-metainfo详细介绍</a></li><li><a href="/pages/35f3b7/" class="sidebar-link">Ambari自定义服务开发-组件安装启动停止卸载介绍</a></li><li><a href="/pages/f5cc69/" class="sidebar-link">Ambari自定义服务开发-自定义服务配置文件在Ambari中的设置方法</a></li><li><a href="/pages/cc9d4a/" class="sidebar-link">Ambari自定义服务开发-自定义服务配置文件生成</a></li><li><a href="/pages/161e90/" class="sidebar-link">Ambari自定义服务开发-代码如何获取配置参数</a></li><li><a href="/pages/31398e/" class="sidebar-link">Ambari自定义服务开发-修改配置文件提示服务重启</a></li><li><a href="/pages/727728/" class="sidebar-link">Ambari自定义服务开发-自定义告警</a></li><li><a href="/pages/a8fb05/" class="sidebar-link">Ambari自定义服务开发-查看历史版本配置</a></li><li><a href="/pages/24d230/" class="sidebar-link">Ambari自定义服务开发-调试方法</a></li><li><a href="/pages/3ad0a4/" class="sidebar-link">Ambari自定义服务开发-执行Shell命令</a></li><li><a href="/pages/fcc2ad/" class="sidebar-link">Ambari自定义服务开发-快捷访问链接生成</a></li><li><a href="/pages/f9b4a1/" class="sidebar-link">Ambari自定义服务开发-服务组件启动顺序设置</a></li><li><a href="/pages/8302eb/" class="sidebar-link">Ambari自定义服务开发-服务组件安装依赖另外一个组件设置</a></li><li><a href="/pages/3b11e0/" class="sidebar-link">Ambari自定义服务开发-监控指标Metrics介绍</a></li><li><a href="/pages/280dd0/" class="sidebar-link">Ambari自定义服务开发-使用客户端下载配置文件</a></li><li><a href="/pages/8596c7/" class="sidebar-link">Ambari自定义服务开发-美化(增强型)配置参数设置</a></li><li><a href="/pages/77ee10/" aria-current="page" class="active sidebar-link">Ambari自定义服务开发-自定义开发安装包整合到Ambari-Server中</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/77ee10/#rpm重新编译" class="sidebar-link">RPM重新编译</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/77ee10/#安装rpmrebuild" class="sidebar-link">安装rpmrebuild</a></li><li class="sidebar-sub-header level3"><a href="/pages/77ee10/#安装rpm-build" class="sidebar-link">安装rpm-build</a></li><li class="sidebar-sub-header level3"><a href="/pages/77ee10/#自定义服务同步到服务器" class="sidebar-link">自定义服务同步到服务器</a></li><li class="sidebar-sub-header level3"><a href="/pages/77ee10/#生成需要添加的配置" class="sidebar-link">生成需要添加的配置</a></li><li class="sidebar-sub-header level3"><a href="/pages/77ee10/#验证rpm文件是否生效" class="sidebar-link">验证RPM文件是否生效</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/77ee10/#如何通过yum-install-ambari-server直接安装" class="sidebar-link">如何通过yum install ambari-server直接安装?</a></li></ul></li><li><a href="/pages/6d8949/" class="sidebar-link">Ambari自定义服务开发-自定义脚本运行</a></li><li><a href="/pages/77d9b9/" class="sidebar-link">Ambari自定义服务开发-常用函数</a></li><li><a href="/pages/54a5a5/" class="sidebar-link">Ambari自定义服务开发问题处理-中文乱码</a></li><li><a href="/pages/5d6869/" class="sidebar-link">Ambari自定义服务开发问题处理-告警项UNKWN</a></li><li><a href="/pages/8bfe39/" class="sidebar-link">Ambari自定义服务开发问题处理-Agent安装服务报错unknown</a></li><li><a href="/pages/d329d2/" class="sidebar-link">Ambari自定义服务开发问题处理-修改源码配置,服务重启后未生效</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E3%80%8AAmbari%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B%E3%80%8B%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>《Ambari自定义开发教程》笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://datamining.blog.csdn.net/" target="_blank" title="作者" class="beLink" data-v-06225672>Jast-zsh</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-04-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Ambari自定义服务开发-自定义开发安装包整合到Ambari-Server中<!----></h1>  <div class="theme-vdoing-content content__default"><p>[toc]</p> <h2 id="rpm重新编译"><a href="#rpm重新编译" class="header-anchor">#</a> RPM重新编译</h2> <h3 id="安装rpmrebuild"><a href="#安装rpmrebuild" class="header-anchor">#</a> 安装rpmrebuild</h3> <p>下载地址：<a href="https://download.csdn.net/download/zhangshenghang/88964872" target="_blank" rel="noopener noreferrer">https://download.csdn.net/download/zhangshenghang/88964872<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 创建目录</span>
<span class="token function">mkdir</span> rpmrebuild
<span class="token comment"># 进入目录</span>
<span class="token builtin class-name">cd</span> rpmrebuild
<span class="token comment"># 将下载的tar.gz文件上传到rpmrebuild目录</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> rpmrebuild-2.11.tar.gz
<span class="token comment"># 编译</span>
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="安装rpm-build"><a href="#安装rpm-build" class="header-anchor">#</a> 安装rpm-build</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum install -y rpm-build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="自定义服务同步到服务器"><a href="#自定义服务同步到服务器" class="header-anchor">#</a> 自定义服务同步到服务器</h3> <p>将我们集成的服务<code>DORIS</code>,同步到下面这个目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>/var/lib/ambari-server/resources/stacks/HDP/3.1/services
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同步完可以看到目录DORIS</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ ll
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">3</span> root root   <span class="token number">47</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 AMBARI_METRICS
drwxr-xr-x. <span class="token number">3</span> root root   <span class="token number">47</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 ATLAS
drwxr-xr-x. <span class="token number">6</span>  <span class="token number">501</span> games <span class="token number">220</span> Mar <span class="token number">14</span> <span class="token number">16</span>:33 DORIS
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 HBASE
drwxr-xr-x. <span class="token number">3</span> root root  <span class="token number">127</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 HDFS
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">106</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 HIVE
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 KAFKA
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 KNOX
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 PIG
drwxr-xr-x. <span class="token number">3</span> root root  <span class="token number">127</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 RANGER
drwxr-xr-x. <span class="token number">4</span> root root   <span class="token number">61</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 RANGER_KMS
drwxr-xr-x. <span class="token number">3</span> root root   <span class="token number">47</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 SPARK2
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 TEZ
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 YARN
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">26</span> Jan <span class="token number">19</span> <span class="token number">15</span>:33 ZOOKEEPER
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="生成需要添加的配置"><a href="#生成需要添加的配置" class="header-anchor">#</a> 生成需要添加的配置</h3> <p>这个命令是用于添加配置到<code>.spec</code>文件，<code>.spec</code>文件一会在编译时候会自动进入</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">find</span> /var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS <span class="token parameter variable">-type</span> f <span class="token parameter variable">-printf</span> <span class="token string">'%%attr(0644, root, root) &quot;%p&quot;\n'</span> <span class="token parameter variable">-o</span> <span class="token parameter variable">-type</span> d <span class="token parameter variable">-printf</span> <span class="token string">'%%dir %%attr(0755, root, root) &quot;%p&quot;\n'</span> <span class="token operator">&gt;</span> doris.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/metrics.json&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/configuration&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/configuration/fe.xml&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/configuration/doris-env.xml&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/configuration/be.xml&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/alerts.json&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/role_command_order.json&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/quicklinks&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/quicklinks/quicklinks.json&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/metainfo.xml&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/widgets.json&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/themes&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/themes/theme.json&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/alerts&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/alerts/alert_fe_pid_exists.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/alerts/alert_be_pid_exists.py&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/params.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/changeBEOsConf.sh&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/changeOsConf.sh&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/status_params.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/frontend_follower.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/service_check.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/be.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/doris_client.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/frontend_observer.py&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/scripts/fe.py&quot;</span>
%dir %attr<span class="token punctuation">(</span>0755, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/templates&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/templates/fe.conf.j2&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/templates/test-common.conf.j2&quot;</span>
%attr<span class="token punctuation">(</span>0644, root, root<span class="token punctuation">)</span> <span class="token string">&quot;/var/lib/ambari-server/resources/stacks/HDP/3.1/services/DORIS/package/templates/be.conf.j2&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>在安装Ambari Server时我们会将安装包放到httpd服务中，查看我们的ambari-server版本,可以看到<code>ambari-server-2.7.5.0-72.x86_64.rpm</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">ls</span> /var/www/html/ambari/centos7/2.7.5.0-72/ambari/ambari-*
ambari-agent-2.7.5.0-72.x86_64.rpm
ambari-infra-manager-2.7.5.0-72.noarch.rpm
ambari-infra-solr-2.7.5.0-72.noarch.rpm
ambari-infra-solr-client-2.7.5.0-72.noarch.rpm
ambari-logsearch-logfeeder-2.7.5.0-72.noarch.rpm
ambari-logsearch-portal-2.7.5.0-72.noarch.rpm
ambari-metrics-collector-2.7.5.0-72.x86_64.rpm
ambari-metrics-common-2.7.5.0-72.noarch.rpm
ambari-metrics-grafana-2.7.5.0-72.x86_64.rpm
ambari-metrics-hadoop-sink-2.7.5.0-72.x86_64.rpm
ambari-metrics-monitor-2.7.5.0-72.x86_64.rpm
ambari-server-2.7.5.0-72.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>重新<code>rebuild</code>编译<code>ambari-server</code>，<code>ambari-server-2.7.5.0-72.x86_64</code>就是上面我们看到的rpm包，去掉<code>.rpm</code>后缀</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>rpmrebuild <span class="token parameter variable">-e</span> ambari-server-2.7.5.0-72.x86_64
Do you want to <span class="token builtin class-name">continue</span> ? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> y
Do you want to change release number ? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> n <span class="token comment"># 输入n，这时会进入编辑页面(即编辑 .spec 文件)，按i可以进入编辑,进入大概7100多行，添加上面我们生成的配置内容,:wq保存（和在vi编辑器里面编辑一样）</span>
Do you want to <span class="token builtin class-name">continue</span> ? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> y
result: /root/rpmbuild/RPMS/x86_64/ambari-server-2.7.5.0-72.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>编译完成之后会生成文件<code>/root/rpmbuild/RPMS/x86_64/ambari-server-2.7.5.0-72.x86_64.rpm</code></p> <p>查看编译后的是否包含DORIS</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>rpm -qpl  /root/rpmbuild/RPMS/x86_64/ambari-server-2.7.5.0-72.x86_64.rpm  |grep DORIS
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="验证rpm文件是否生效"><a href="#验证rpm文件是否生效" class="header-anchor">#</a> 验证RPM文件是否生效</h3> <ol><li>停止Ambari Server，<code>ambari-server stop</code></li> <li>卸载 ambari-server 服务：<code>yum remove ambari-server</code></li> <li>安装 ambari-server 服务：<code>yum install -y /root/rpmbuild/RPMS/x86_64/ambari-server-2.7.5.0-72.x86_64.rpm</code></li> <li>重新设置 ambari-server 配置：<code>ambari-server setup</code></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code> ambari-server setup
Using python  /usr/bin/python
Setup ambari-server
Checking SELinux...
SELinux status is 'disabled'
Customize user account for ambari-server daemon [y/n] (n)? n
Adjusting ambari-server permissions and ownership...
Checking firewall status...
Checking JDK...
[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8
[2] Custom JDK
==============================================================================
Enter choice (1): 2 # 选择2
WARNING: JDK must be installed on all hosts and JAVA_HOME must be valid on all hosts.
WARNING: JCE Policy files are required for configuring Kerberos security. If you plan to use Kerberos,please make sure JCE Unlimited Strength Jurisdiction Policy Files are valid on all hosts.
Path to JAVA_HOME: /opt/jdk1.8.0_351 # 输入安装的jdk路径
Validating JDK on Ambari Server...done.
Check JDK version for Ambari Server...
JDK version found: 8
Minimum JDK version is 8 for Ambari. Skipping to setup different JDK for Ambari Server.
Checking GPL software agreement...
GPL License for LZO: https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html
Enable Ambari Server to download and install GPL Licensed LZO packages [y/n] (n)? n
Completing setup...
Configuring database...
Enter advanced database configuration [y/n] (n)? y
Configuring database...
==============================================================================
Choose one of the following options:
[1] - PostgreSQL (Embedded)
[2] - Oracle
[3] - MySQL / MariaDB
[4] - PostgreSQL
[5] - Microsoft SQL Server (Tech Preview)
[6] - SQL Anywhere
[7] - BDB
==============================================================================
Enter choice (1): 3
Hostname (localhost): 172.16.24.174
Port (3306): 3306
Database name (ambari): ambari
Username (ambari): ambari
Enter Database Password (bigdata): 
Re-enter password: 
Configuring ambari database...
Should ambari use existing default jdbc /usr/share/java/mysql-connector-java.jar [y/n] (y)? y
Configuring remote database connection properties...
WARNING: Before starting Ambari Server, you must run the following DDL directly from the database shell to create the schema: /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql
Proceed with configuring remote database connection properties [y/n] (y)? y
Extracting system views...
....ambari-admin-2.7.5.0.72.jar
Ambari repo file doesn't contain latest json url, skipping repoinfos modification
Adjusting ambari-server permissions and ownership...
Ambari Server 'setup' completed successfully.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><ol start="5"><li>启动服务：<code>ambari-server start</code></li> <li>登录Ambari Server Web UI，安装DORIS服务，测试功能是否正常。</li></ol> <h2 id="如何通过yum-install-ambari-server直接安装"><a href="#如何通过yum-install-ambari-server直接安装" class="header-anchor">#</a> 如何通过yum install ambari-server直接安装?</h2> <p>上面我可以可以通过指定文件进行安装</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> /root/rpmbuild/RPMS/x86_64/ambari-server-2.7.5.0-72.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果想直接通过 <code>yum install ambari-server</code> 安装需要对本地配置的yum仓库下的repodata进行重新生成，该目录会校验安装包是否被修改。</p> <p>我们查看<code>ambari.repo</code>可以看到ambari的库所在目录,可以看到下载目录<code>ambari/centos7/2.7.5.0-72</code>，绝对目录为：<code>/var/www/html/ambari/centos7/2.7.5.0-72</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># cat /etc/yum.repos.d/ambari.repo </span>
<span class="token punctuation">[</span>ambari<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>ambari
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://bigdata-01/ambari/centos7/2.7.5.0-72
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>目录结构为</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@bigdata-01 2.7.5.0-72]# pwd
/var/www/html/ambari/centos7/2.7.5.0-72
[root@bigdata-01 2.7.5.0-72]# ll
total 52
drwxr-xr-x 2 1001 users 4096 Mar 20 10:49 ambari
-rw-r--r-- 1 1001 users  375 Mar 21 18:45 ambari.repo
-rw-r--r-- 1 1001 users 1608 Dec 18  2019 artifacts.txt
-rw-r--r-- 1 1001 users  585 Dec 18  2019 build.id
-rw-r--r-- 1 1001 users 1667 Dec 18  2019 build_metadata.txt
-rw-r--r-- 1 1001 users  500 Dec 18  2019 hotfix_index.html
-rw-r--r-- 1 1001 users  505 Dec 18  2019 index.html
-rw-r--r-- 1 1001 users  497 Dec 18  2019 private_index.html
-rw-r--r-- 1 1001 users  496 Dec 18  2019 public_index.html
drwxr-xr-x 2 root root  4096 Mar 21 18:57 repodata
drwxr-xr-x 2 1001 users 4096 Dec 18  2019 RPM-GPG-KEY
drwxr-xr-x 2 1001 users 4096 Dec 18  2019 smartsense
drwxr-xr-x 5 1001 users 4096 Dec 18  2019 tars
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>进入 ambari 目录,可以看到<code>ambari-server-2.7.5.0-72.x86_64.rpm</code>，将我们修改后的文件替换掉之前的这个</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># cd ambari
[root@bigdata-01 ambari]# ls
ambari-agent-2.7.5.0-72.x86_64.rpm                ambari-metrics-collector-2.7.5.0-72.x86_64.rpm
ambari-infra-manager-2.7.5.0-72.noarch.rpm        ambari-metrics-common-2.7.5.0-72.noarch.rpm
ambari-infra-solr-2.7.5.0-72.noarch.rpm           ambari-metrics-grafana-2.7.5.0-72.x86_64.rpm
ambari-infra-solr-client-2.7.5.0-72.noarch.rpm    ambari-metrics-hadoop-sink-2.7.5.0-72.x86_64.rpm
ambari-logsearch-logfeeder-2.7.5.0-72.noarch.rpm  ambari-metrics-monitor-2.7.5.0-72.x86_64.rpm
ambari-logsearch-portal-2.7.5.0-72.noarch.rpm     ambari-server-2.7.5.0-72.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>替换之后，此时我们通过<code>yum install ambari-server</code>安装会提示安装失败，这里就是校验出现了问题，下面我们讲处理方法</p> <p><img src="https://s2.loli.net/2024/04/08/VMvsxLS2uJ36akY.png" alt="image-20240322100240618"></p> <p>处理方法</p> <ol><li>删除<code>/var/www/html/ambari/centos7/2.7.5.0-72/repodata</code>目录</li> <li>安装createrepo，<code>sudo yum install -y createrepo</code></li> <li>在<code>/var/www/html/ambari/centos7/2.7.5.0-72/</code>目录下运行<code>createrepo .</code>，此时如果正常会生成<code>repodata</code>目录</li> <li>刷新yum缓存，让我们刚刚生成的repodata生效</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum clean all
<span class="token function">sudo</span> yum makecache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>安装服务<code>yum install -y ambari-server</code></li> <li>成功安装</li></ol></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/04/08, 10:55:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/8596c7/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Ambari自定义服务开发-美化(增强型)配置参数设置</div></a> <a href="/pages/6d8949/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Ambari自定义服务开发-自定义脚本运行</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/8596c7/" class="prev">Ambari自定义服务开发-美化(增强型)配置参数设置</a></span> <span class="next"><a href="/pages/6d8949/">Ambari自定义服务开发-自定义脚本运行</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/072cb2/"><div>
            TODO-Clickhouse-Explain查看执行计划
            <!----></div></a> <span class="date">07-02</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/f4e4dc/"><div>
            Ambari自定义服务开发-metainfo详细介绍
            <!----></div></a> <span class="date">07-01</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4983ce/"><div>
            IoTDB服务安装教程-单机版
            <!----></div></a> <span class="date">07-01</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:745925668@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://datamining.blog.csdn.net/" title="CSDN" target="_blank" class="iconfont icon-csdn"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2016-2025
    <span><a href="https://datamining.blog.csdn.net/">Jast-zsh</a> | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.a5c64990.js" defer></script><script src="/assets/js/2.9cc65402.js" defer></script><script src="/assets/js/114.dbfd963d.js" defer></script>
  </body>
</html>
